<!DOCTYPE html>
<html>

<head> 
  <meta charset="utf-8" />
  <!-- 
    viewport(반응형 웹) :  여러 디스플레이 통해 접속 가능 
    width=device-width : 페이지 너비를 기기의 스크린 너비로 설정
    initial-scale=1 : 페이지 로딩 시 원래 크기를 사용 (확대, 축소 되지 않음)
  -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>D.I.Y.</title>
  <!-- Blockly 개발자모드 코드 안보이게 막음-->
  <!-- <script type="text/javascript">
    console = {};
    console.log = function(){};
    console.warn = function(){};
    console.error = function(){};
    console.info = function(){}; 
  </script>  -->

  <!-- #####################################################################################################  -->
  <!-- ******************************               CDN                       ******************************* -->
  <!-- #####################################################################################################  -->
  <!-- jquery --> 
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  
  <!-- bootstrap -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
  
  <!-- tensorflow -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-vis"> </script>
  
  <!-- blockly-->
  <script src="/js/blockly/storage.js"></script>
  <script src="/js/blockly/brython.js"></script>
  <script src="/js/blockly/brython_stdlib.js"></script>
  <script src="https://unpkg.com/prop-types@15.6/prop-types.js"></script>
  
  <!-- plotly -->
  <script src="https://cdn.plot.ly/plotly-latest.min.js" charset="utf-8"></script>    
  
  <!--numjs-->             
  <script src="https://cdn.jsdelivr.net/gh/nicolaspanel/numjs@0.15.1/dist/numjs.min.js"></script>  
  
  <!-- pyodide cdn변경 20.11.16 -->
  <script src="https://cdn.jsdelivr.net/pyodide/v0.16.1/full/pyodide.js"></script>
  <!-- <script src="http://inhatc.iptime.org:4519/pyodide.js"></script>  -->

  <!-- 기태 처리 (파일) 21.01.06------------------------------------------------------------------------->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/BrowserFS/2.0.0/browserfs.min.js"></script>

  <!--   javascript 언어 규칙 및 블록 변환과 관련된 내용을 압축한 파일 -->
  <script src="/js/blockly/blockly_compressed.js"></script>
  <script src="/js/blockly/javascript_compressed.js"></script>
  <script src="/js/blockly/python_compressed.js"></script>
  <script src="/js/blockly/blocks_compressed.js"></script>
  
  <!--미리 정의되어 있는 기본 블록에 대한 설정을 모두 담고 있음.-->
  <script src="/js/blockly/block_pyodide.js"></script>

  <!-- codemirror 추가 -->
  <script src="/js/codemirror/lib/codemirror.js"></script>
  <!-- rel: 현재 문서와 외부 리소스 사이의 연관 관계 명시 / stylesheet: 스타일 시트로 사용할 외부 리소스 불러옴-->
  <link rel="stylesheet" href="/js/codemirror/lib/codemirror.css">
  <script src="/js/codemirror/mode/javascript/javascript.js"></script>
  <script src="/js/codemirror/mode/python/python.js"></script>
  <!-- codemirror 추가 -->

  <!-- codemirror 스타일 지정 -->
  <link rel="stylesheet" href="./js/codemirror/theme/oceanic-next.css">
  <!-- codemirror 스타일 지정 -->

  <!-- cdoemirror 자동 완성 기능 -->
  <script src="./js/codemirror/addon/hint/show-hint.js"></script>
  <script src="./js/codemirror/addon/hint/javascript-hint.js"></script>
  <script src="./js/codemirror/addon/hint/anyword-hint.js"></script>
  <link rel="stylesheet" href="./js/codemirror/addon/hint/show-hint.css">
  <!-- cdoemirror 자동 완성 기능 -->

  <!-- 그림판자리 canvas -->
  <script src="/js/canvas.js"></script>
  <!-- 블록, 블록+코드, 코드 변경-->
  <script src="/js/tabDisplay.js"></script>
  <!-- 그래프 aside -->
  <script src="/js/aside.js"></script>

  <!-- #####################################################################################################  -->
  <!-- ******************************              블록 import                ******************************* -->
  <!-- #####################################################################################################  -->

  <!-- pyodide 블록 -->
  <script src="/js/blockly/block_pyodide_gen.js"></script>
  <script src="/js/blockly/block_pyodide_gen_javascript.js"></script>
  <!-- pyodide 블록 -->

  <!-- Pandas 블록 -->
  <script src="/js/blockly/block_pandas.js"></script>
  <script src="/js/blockly/block_pandas_gen.js"></script>
  <script src="/js/blockly/block_pandas_javagen.js"></script>
  <!-- Pandas 블록 -->

  <!-- matplot 블록 -->
  <script src="/js/blockly/block_matplot.js"></script>
  <script src="/js/blockly/block_matplot_py.js"></script>
  <script src="/js/blockly/block_matplot_js.js"></script>
  <!-- matplot 블록 -->

  <!-- 입출력 블록 -->
  <script src="/js/blockly/block_io.js"></script>
  <script src="/js/blockly/block_io_py.js"></script>
  <script src="/js/blockly/block_io_js.js"></script>
  <!-- 압출력 블록 -->

  <!-- 연산(통계) 블록 -->
  <script src="/js/blockly/block_static.js"></script>
  <script src="/js/blockly/block_static_py.js"></script>
  <script src="/js/blockly/block_static_js.js"></script>
  <!-- 연산(통계) 블록 -->

  <!-- 웹 크롤링  -->
  <script src="/socket.io/socket.io.js"></script> 
  <!-- 웹 크롤링  -->

  <!-- 함수 -->
  <script src="/js/blockly/block_definitions.js"></script>
  <script src="/js/blockly/block_definitions_py.js"></script>
  <script src="/js/blockly/block_definitions_js.js"></script>

  <!-- 클래스 -->
  <script src="/js/blockly/block_class.js"></script>
  <script src="/js/blockly/block_class_py.js"></script>
  <script src="/js/blockly/block_class_js.js"></script>

  <!-- 시스템 -->
  <script src="/js/blockly/block_system.js"></script>
  <script src="/js/blockly/block_system_py.js"></script>
  <script src="/js/blockly/block_system_js.js"></script>

  <!-- 데이타 사이언스 블록 -->
  <script src="/js/blockly/Science_Data_T.js"></script>
  <script src="/js/blockly/Science_Data_Gen.js"></script>
  <script src="/js/blockly/Science_Data_Js.js"></script>

  <!-- 연산 블록 추가 -->
  <script src="/js/blockly/block_oper_js.js"></script>
  <script src="/js/blockly/block_oper_py.js"></script>
  <script src="/js/blockly/block_oper.js"></script>

  <!-- 연산 math 2020-12-29-전우진 -->
  <script src="/js/blockly/block_math.js"></script>
  <script src="/js/blockly/block_math_py.js"></script>
  <script src="/js/blockly/block_math_js.js"></script>

  <!-- 컬렉션 블록 추가 -->
  <script src="/js/blockly/block_collection_js.js"></script>
  <script src="/js/blockly/block_collection_py.js"></script>
  <script src="/js/blockly/block_collection.js"></script>

  <!-- 텍스트 블록 추가 -->
  <script src="/js/blockly/block_text_js.js"></script>
  <script src="/js/blockly/block_text_py.js"></script>
  <script src="/js/blockly/block_text.js"></script>

  <!-- 기계 고장 진단 -->
  <script src="/js/blockly/block_escalator_T.js"></script>
  <script src="/js/blockly/block_escalator_js.js"></script>
  <script src="/js/blockly/block_escalator_python.js"></script>

  <!-- 데이타 사이언스 블록 -->
  <script src="/js/blockly/FileSaver.js"></script> <!-- 파일 저장 기능 -->
  <script src="/js/blockly/tau-prolog.js"></script> <!-- tau Prolog 추가 -->

  <!--neighbors 블록-->
  <script src="/js/blockly/blocks_neighbors.js"></script>
  <script src="/js/blockly/blocks_neighbors_gen.js"></script>
  <script src="/js/blockly/blocks_neighbors_java.js"></script>

  <!-- Scikit-Learn 블록, 2021.01 정지현 추가 -->
  <script src="/js/blockly/block_sklearn.js"></script>
  <script src="/js/blockly/block_sklearn_js.js"></script>
  <script src="/js/blockly/block_sklearn_py.js"></script>

  <!-- api 블록 -->
  <script src="/js/blockly/block_api.js"></script>
  <script src="/js/blockly/block_api_gen.js"></script>
  <script src="/js/blockly/block_api_gen_javascript.js"></script>
  <!-- api 블록 -->

  <!-- 명성이형이 만든 블록 2020.12.28 -->
  <script src="/js/blockly/block_numpy1.js"></script>
  <script src="/js/blockly/block_numpy1_py.js"></script>
  <script src="/js/blockly/block_numpy1_js.js"></script>

  <!-- 넘파이 기본카테고리 블록 -->
  <script src="/js/blockly/block_numpy_basic.js"></script>
  <script src="/js/blockly/block_numpy_basic_py.js"></script>
  <script src="/js/blockly/block_numpy_basic_js.js"></script>
  <!-- 넘파이 기본카테고리 블록 -->

  <!-- 임시 블록 이성주 -->
  <script src="/js/blockly/seongju_mat.js"></script>
  <script src="/js/blockly/seongju_mat_py.js"></script>
  <script src="/js/blockly/seongju_mat_js.js"></script>
  
  <!-- 임시 데이터베이스 양승국 -->
  <script src="/js/blockly/block_database.js"></script>
  <script src="/js/blockly/block_database_py.js"></script>
  <script src="/js/blockly/block_database_js.js"></script>

  <!-- 임시 양승국 -->
  <script src="/js/blockly/block_ysk.js"></script>
  <script src="/js/blockly/block_ysk_py.js"></script>
  <script src="/js/blockly/block_ysk_js.js"></script>

  <!-- 임시 전우진 -->
  <script src="/js/blockly/woojin.js"></script>
  <script src="/js/blockly/woojin_py.js"></script>
  <script src="/js/blockly/woojin_js.js"></script>

  <!--임시 남지원-->
  <script src="/js/blockly/jiwon.js"></script>
  <script src="/js/blockly/jiwon_py.js"></script>
  <script src="/js/blockly/jiwon_js.js"></script>

  <!--임시 판다스 김관필-->
  <script src="/js/blockly/gwanpil.js"></script>
  <script src="/js/blockly/gwanpil_py.js"></script>
  <script src="/js/blockly/gwanpil_js.js"></script>

  <!-- 사이킷 이미지 -->
  <script src="/js/blockly/block_skimage.js"></script>
  <script src="/js/blockly/block_skimage_py.js"></script>
  <script src="/js/blockly/block_skimage_js.js"></script>

  <!-- 맷 파이 이미지 -->
  <script src="/js/blockly/block_mat_pie.js"></script>
  <script src="/js/blockly/block_mat_pie_py.js"></script>
  <script src="/js/blockly/block_mat_pie_js.js"></script>

  <!-- 사이파이 -->
  <script src="/js/blockly/block_scipy.js"></script>
  <script src="/js/blockly/block_scipy_py.js"></script>
  <script src="/js/blockly/block_scipy_js.js"></script>

  <!-- #####################################################################################################  -->
  <!-- ******************************                CSS                      ******************************* -->
  <!-- #####################################################################################################  -->

  <!-- 사이드 바 -->
  <link rel="stylesheet" href="/css/sidebar.css">
  
  <!-- table --> 
  <link rel="stylesheet" href="/css/table_custom.css">
  
  <!-- 기본 css -->
  <link rel="stylesheet" href="/css/basic.css">

  <!-- 명성이형 파일 불러올때 필요한 변수설정 
  <script>
    var Data_process_on = 0;
    var DL_Gra = 0;
    var testing_1 = 0;
  </script>
  명성이형 파일 불러올때 필요한 변수설정 -->

  <!-- plotly 데이터 시각화를 위해 필요-->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script src="./js/utils/plotly.js"></script>
  <!-- plotly -->

  <!-- 이거 중복되는 거임 필요없을거같기도함. -->
  <!-- 플러그인 로딩이 끝났을때 .then => languagePluginLoader: 비동기 객체 -->
  <script>
    languagePluginLoader.then(() => {
      // 패키지로드 loadpackage, micropip은 pydodie에서 파이썬 wheel에 관련하여 설치함.
      pyodide.loadPackage(['pandas', 'numpy', 'matplotlib', 'scikit-learn', 'scikit-image', 'micropip']).then(
      () => { 
        console.log('pyodide 라이브러리 로딩완료');
        $("#loading_image1").hide(); // 홈페이지 로딩 끝나면 로딩 이미지 없앰 
        $("#runButton1").css({
          'display': "block"
        });
        $("#loading_image2").hide(); // 그래프 로딩 끝나면 로딩 창 없앰 
        $("#runButton2").css({
          'display': "inline"
        });
      });
    });
  </script>
  <!--Socket.IO 지금은 안쓰는데... --> 
  <!-- <script>  
    var socket = io.connect('http://localhost:8000');
      // socket.on('CSV_Name_error', function(data) { 
      //   if (data == "error"); 
      //   window.alert("잘못된 입력입니다.");  
      //  });  
  </script>    
  -->
</head>

<body>
  <!-- 언어 패키지, 카테고리 색상 -->
  <!-- 2020-12-05 양승국 동적 변경을 위해 head -> body로 옮김-->
  <script id = "lan" src="/js/blockly/msg/js/ko.js"></script> 

  <!-- 그래프 사이드바 start-->
  <aside id="sidebar">
    <!-- 그래프 사이드바 닫기 버튼 -->
    <div class="sidebar">
      <button id="runButton2" class="btn btn-outline-success btn-sm mr-1" onclick="runButton();"
        style="display:none;">실행</button>
      <!-- 실행 로딩 중 -->
      <div id="loading_image2" style="display: inline-block;">
        <object type="image/svg+xml" data="Rolling-1s-30px.svg"></object>
      </div>
      <button id = "button_close" class="btn btn-outline-primary btn-sm mr-1" onclick="sidebar_toggle();">닫기</button>
      <button id = "button_clear" class="btn btn-outline-danger btn-sm" onclick="csv_clear();">지우기</button>
      <button id = "button_reset" class="btn btn-outline-danger btn-sm" onclick="sidebar_clear();">전체 초기화</button>
    </div>

    <div id=graph></div>

    <div id=graph1 style="height:500px; width:900px;"><img id="pyplotfigure"/></div>
    <!-- <div id=graph2 style="height: 300px;"></div> 
      <div id=graph3 style="height: 300px;"></div>-->
    <div id="csv_show"></div>
  </aside>
  <!-- 그래프 사이드바 end-->

  <div class="container-fluid">
    <!-- nav -->
    <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #f4f6ff;">

      <!-- a -->
      <a class="navbar-brand" href="#"><img src="logo2-2.png"/></a>

      <!-- 왼쪽 구역-->
      <div class="d-flex flex-wrap text-white" style="width:80%;">

        <!-- 파일 열기 -->
        <div class="input-group col-md-3 ml-3 mt-2 btn-sm custom-file">
          <input type="file" id="file" class="custom-file-input" accept="text/xml"
            onchange="loadBlock(); this.value=null;return false;">
          <label class="custom-file-label mr-1" for="file">파일열기</label>
        </div>

        <!-- 블록 지우기 -->
        <input id="button_block_del" type="button" class="btn btn-outline-secondary btn-sm mr-0" onClick="demoWorkspace.clear();"
          value="블록 지우기" />

        <!-- 블록 저장 -->
        <input id="button_block_save" type="button" class="btn btn-outline-secondary btn-sm " onClick="saveBlock();"
          value="블록 저장" />

        <!-- 블록 탭 -->
        <div class="btn-group" role="group">
          <button type="button" class="btn btn-secondary mr-0" onclick="visibleBlock()">블럭</button>
          <button type="button" class="btn btn-secondary mr-0" onclick="visibleAll()">블럭+코드</button>
          <button type="button" class="btn btn-secondary mr-0" onclick="visibleCode()">코드</button>
        </div>
      </div>

      <!-- 오른쪽 구역 -->
      <div class="d-flex flex-wrap text-white" style="width: 55%;">

        <!-- 2020-12-05 양승국 언어변경을 위해 생성-->
        <!--언어변환 -->
        <select id="language" class="form-control col-md-2 mt-2 ml-1">
          <option id = "ko" value="kor">Ko</option>
          <option id = "en" value="eng">en</option>
        </select>

        <!-- 실행 버튼 -->
        <input id="runButton1" type="button" class="btn btn-outline-success btn-sm mr-1" style="display:none;"
          onClick="runButton()" value="실행" /> <!-- 다시 원상 복귀 style="display:none;" [on click 전] -->
        <!-- 실행 로딩 중 -->
        <div id="loading_image1"><object type="image/svg+xml" data="Rolling-1s-30px.svg"></object></div>
        <!-- 결과 버튼 -->
        <input id="button_console_clear" type="button" class="btn btn-outline-secondary btn-sm mr-1" onClick=clear_result();
          value="결과 지우기" />

        <!-- 저장 버튼 -->
        <input id="button_code_save" type="button" class="btn btn-outline-secondary btn-sm mr-1" onClick=file_save();
          value="코드저장" />

          <!-- 저장 버튼 -->
        <input id="asave" type="button" class="btn btn-outline-secondary btn-sm mr-1" onClick=_requestsURL();
        value="aa" />
        <!-- Button trigger modal -->
        <button id = "button_paint" type="button" class="btn btn-outline-secondary btn-sm mr-1" data-toggle="modal"
          data-target="#staticBackdrop">그림판</button>

        <!-- Modal -->
        <div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1"
          aria-labelledby="staticBackdropLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel">그림판</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>

              <div class="modal-body">
                <!-- canvas -->
                <canvas id="canvas" class="canvas" width="300" height="300"></canvas>
              </div>

              <div class="modal-footer">
                <button type="button" class="btn btn-secondary mr-1" data-dismiss="modal">취소</button>
                <!-- reset button -->
                <form>
                  <input type="button" id="reset" class="btn btn-danger mr-1" value="다시 그리기">
                </form>
                <a id="download" download="image.png"><button type="button" class="btn btn-primary"
                    onClick="canvas_save()">그림 저장</button></a>
                <input type="file" id="btn_upload" name="btn_upload" style="display: none;" />
              </div>
            </div>
          </div>
        </div> <!-- 모달 -->

        <!-- 그래프 버튼 -->
        <input id="sidebar_button" type="button" class="btn btn-outline-primary btn-sm" value="그래프"
          onclick="sidebar_toggle()" />

          

      </div> <!-- 오른쪽 구역 -->
    </nav>

    <!-- 하단 내용 -->
    <div class="row" style="height: 90vh;">

      <!-- 블럭 나오는 부분(왼쪽) -->
      <div id="blocklyDiv" class="col-md-8" style="height: 90vh;"></div>

      <!-- 오른쪽 -->
      <div id="codeDiv" class="col-md-4">
        <div id="codeDiv1">
          <div class="card shadow-sm">
            <div class="text-white bg-dark">
              <h5 id="code" class="my-1 mx-1">코드</h5>
            </div>
            <div style="position:relative; " style="height: 80vh;">
              <div id="pyCodeEditor"></div>
              <div id="jsCodeEditor"></div>
            </div>
          </div>
        </div>
        <!-- console -->
        <div id="codeDiv2">
          <div class="card mb-6 mt-6 shadow-sm">
            <div class="text-white bg-dark">
              <h5 id="console" class="my-1 mx-1">콘솔</h5>
            </div>
            </textarea>
            <textarea id="exeArea" class="form-control" readonly style="height: 20vh;"></textarea>
          </div>
        </div>
      </div> <!-- 오른쪽 -->
    </div> <!-- 하단 -->

    <!-- camera-->
    <!--
    <video id="gum-local" autoplay playsinline></video>
    <button id="showVideo">Open camera</button>
    -->
  </div> <!-- container -->

  <!-- Toolbox 정의 -->
  <xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" class="toolbox" style="display:none">
    
  <!-- #####################################################################################################  -->
  <!-- ******************************   변수(Variable)                        ******************************* -->
  <!-- #####################################################################################################  -->
  <category name="%{BKY_CATEGORY_VARIABLE}" colour="%{BKY_VARIABLES_HUE}" custom="VARIABLE"></category>

  <!-- #####################################################################################################  -->
  <!-- ******************************   입출력 ( I/O )                           ******************************* -->
  <!-- #####################################################################################################  -->
  <category name = "%{BKY_CATEGORY_INPUT_OUTPUT}" colour = "255">

    <!-- 데이터 입력 -->
    <block type="input1">
      <value name="content1">
        <shadow type="indata">
          <field name="indata1">"메시지"</field>
        </shadow>
      </value>
    </block>

    <block type="map">
      <value name="data_type">
        <shadow type="indata">
          <field name="indata1">int</field>
        </shadow>
      </value>
      <value name="input">
        <shadow type="indata">
          <field name="indata1">'메시지'</field>
        </shadow>
      </value>
      <value name="split">
        <shadow type="indata">
          <field name="indata1">'입력시구분자'</field>
        </shadow>
      </value>
    </block>

    <!-- 결과출력 var -->
    <block type="printc">
      <value name="content">
        <block type="variables_get">
          <field name="VAR">variable</field>
        </block>
      </value>
    </block>

    <!-- 결과출력 text + var -->
    <block type="printtv">
      <value name="content1">
        <shadow type="indata">
          <field name="indata1">"메시지"</field>
        </shadow>
      </value>
      <value name="content2">
        <block type="variables_get">
          <field name="VAR">variable</field>
        </block>
      </value>
    </block>
      
    <!-- 결과출력 f-문자열 -->
    <block type="printf">
      <value name="content1">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <!-- 출력 뮤테이터 -->
    <block type="print_mutator"></block>
    <!-- 파이썬코드 입력 -->
    <block type="itdata">
      <value name="itdata1">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <!-- 파이썬 부분 코드(만능)-->
    <block type="indata"></block>

    <block type="class_func_param"></block>
    <!--------------------------------------------------------------------------------------------시스템OS-->
    <category name="%{BKY_CATEGORY_OS}" colour="%{BKY_OS_HUE}">
      <block type="os_library"></block>

      <block type="os_data_remove"></block>

      <block type="os_data_listdir"></block>

      <block type="os_data_download"></block>

      <label text="os & os.path & shutil"></label>

      <block type="printf">
        <value name="content1">
          <block type="os_getcwd"></block>
        </value>
      </block>

      <block type="printf">
        <value name="content1">
          <block type="os_listdir"></block>
        </value>
      </block>

      <!-- 디렉토리생성 -->
      <block type="printf">
        <value name="content1">
          <block type="os_dir">
            <value name="va">
              <shadow type="indata">
                <field name="indata1">'temp'</field>
              </shadow>
            </value>
          </block>
        </value>
      </block>

      <!-- 파일삭제 -->
      <block type="os_remove">
        <value name="va">
          <shadow type="indata">
            <field name="indata1">'temp'</field>
          </shadow>
        </value>
      </block>
      <!-- 파일명 변경 -->
      <block type="os_rename">
        <value name="va1">
          <shadow type="indata">
            <field name="indata1">'원본'</field>
          </shadow>
        </value>
        <value name="va2">
          <shadow type="indata">
            <field name="indata1">'복사본'</field>
          </shadow>
        </value>
      </block>

      <block type = "abspath">
        <value name="NAME">
          <shadow type="indata">
            <field name="indata1">"파일 혹은 폴더"</field>
          </shadow>
        </value>
      </block>

      <block type = "basename">
        <value name="NAME">
          <shadow type="indata">
            <field name="indata1">"절대경로"</field>
          </shadow>
        </value>
      </block>

      <block type = "dirname">
        <value name="NAME">
          <shadow type="indata">
            <field name="indata1">'path'</field>
          </shadow>
        </value>
      </block>

      <block type = "exists">
        <value name="NAME">
          <shadow type="indata">
            <field name="indata1">'path'</field>
          </shadow>
        </value>
      </block>

      <block type = "getsize">
        <value name="NAME">
          <shadow type="indata">
            <field name="indata1">'path'</field>
          </shadow>
        </value>
      </block>

      <block type = "is_dir_file">
        <value name="NAME">
          <shadow type="indata">
            <field name="indata1">'path'</field>
          </shadow>
        </value>
      </block>

      <block type = "path_split">
        <value name="NAME">
          <shadow type="indata">
            <field name="indata1">'path'</field>
          </shadow>
        </value>
      </block>

      <block type="shutil_file">
        <value name="va1">
          <shadow type="indata">
            <field name="indata1">원본</field>
          </shadow>
        </value>
        <value name="va2">
          <shadow type="indata">
            <field name="indata1">복사</field>
          </shadow>
        </value>
      </block>

      <label text="time & datetime"></label>
      <!--<block type="time_library"></block>-->
      <block type="time_"></block>
      <block type="sleep">
        <value name="val1">
          <shadow type="indata">
            <field name="indata1">초</field>
          </shadow>
        </value>
      </block>

      <!--<block type="datetime_library"></block>-->

      <!-- datetime 객체 생성 리성주-->
      <block type = "datetime_now">
        <value name = "variables">
          <block type="variables_get">
            <field name="VAR">day</field>
          </block>
        </value>
      </block>
      <!-- 년도, 년, 월, 일, 시, 분, 초 사용 -->
      <block type = "now_method">
        <value name = "object">
          <block type="variables_get">
            <field name="VAR">day</field>
          </block>
        </value>
      </block>
    </category>

    <!----------------------------------------------------------------------------------------------파일-->
    <category name="%{BKY_CATEGORY_FILE}" colour="%{BKY_FILE_HUE}">
      <block type="pickle_library"></block>

      <block type="csv_library"></block>

      <!-- 기태 수정(로컬 파일 열기) 21.01.01 ------------------------------------> 	
      <block type = "fd_open">
        <value name="text">               
            <block type="fileopen"></block>     
        </value>
      </block>
      <!-- 기태 수정 (로컬 파일 열기)---------------------------------------------> 	

      <!-- 파일 읽기 -->
      <block type = "fd_read"></block>
      <!-- 파일 쓰기 -->
      <block type = "fd_write">
        <value name="text">
          <block type="variables_get">
            <field name="VAR">data</field>
          </block>
        </value>
      </block>
      <!-- 피클 입력 -->
      <block type="pickle_dump">
        <value name="va1">
          <shadow type="indata">
            <field name="indata1">데이터</field>
          </shadow>
        </value>
        <value name="va2">
          <shadow type="indata">
            <field name="indata1">f</field>
          </shadow>
        </value>
      </block>
      <!-- 피클 불러오기 -->
      <block type="pickle_load">
        <value name="va">
          <shadow type="indata">
            <field name="indata1">f</field>
          </shadow>
        </value>
      </block>
      <!-- 파일 닫기 -->
      <block type = "fd_close"></block>

      <!-- with -->
      <block type = "withs">
        <value name="set0">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
        <value name="set1">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>
    
      <block type="csv_reader_writer">
        <value name="VAR">
          <shadow type="indata">
            <field name="indata1">f</field>
          </shadow>
        </value>
      </block>

      <block type = "writerows">
        <value name="VAR">
          <block type="variables_get">
            <field name="VAR">csvobj</field>
          </block>
        </value>
        <value name="text">
          <shadow type="indata">
            <field name="indata1">data</field>
          </shadow>
        </value>
      </block>
      <block type="fileopen2"></block>   
      </category>
    </category>
  </category>

  <!-- #####################################################################################################  -->
  <!-- ******************************   숫자(NUM) 문자 ( STR )                 ******************************* -->
  <!-- #####################################################################################################  -->
  <category name="%{BKY_CATEGORY_TEXT}" colour="%{BKY_TEXTS_HUE}"> 
    <block type="math_number">
      <field name="NUM">0</field>
    </block>

    <!-- 연산블럭 -->
    <block type="Oper">
      <value name="A">
        <shadow type="indata">
          <field name="indata1">0</field>
        </shadow>
      </value>
      <value name="B">
        <shadow type="indata">
          <field name="indata1">0</field>
        </shadow>
      </value>
    </block>

    <!-- 형변환  -->
    <block type="convert_block">
      <value name="A">
        <shadow type="indata">
          <field name="indata1">1</field>
        </shadow>
      </value>
    </block>

    <!-- 내장함수 - 숫자-->
    <block type="built_in_function_num">
      <value name="A">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <!-- text -->
    <block type="text"></block>

    <!-- 문자 생성 -->
    <block type = "create_text">
      <value name="VAR">
        <block type="variables_get">
          <field name="VAR">s</field>
        </block>
      </value>
      <value name="text">
        <shadow type="indata">
          <field name="indata1">Hello, Python!</field>
        </shadow>
      </value>
    </block>

    <!-- 문자 합치기 -->
    <block type="text_join"></block>

    <!-- len -->
    <block type="text_length">
      <value name="VALUE">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>
      
    <!-- 문자 슬라이스 -->
    <block type="text_slice">
      <value name="VAR">
        <block type="variables_get">
          <field name="VAR">s</field>
        </block>
      </value>
      <value name="INPUT1">
        <shadow type="indata">
          <field name="indata1">0</field>
        </shadow>
      </value>
      <value name="INPUT2">
        <shadow type="indata">
          <field name="indata1">5</field>
        </shadow>
      </value>
      <value name="INPUT3">
        <shadow type="indata">
          <field name="indata1">1</field>
        </shadow>
      </value>
    </block>

    <!-- 문자 편집 -->
    <block type="text_editing">
      <value name="VAR">
        <block type="variables_get">
          <field name="VAR">s</field>
        </block>
      </value>
      <value name="INPUT1">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <!-- 문자 검색 -->
    <block type="text_search">
      <value name="VAR">
        <block type="variables_get">
          <field name="VAR">s</field>
        </block>
      </value>
      <value name="INPUT1">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <!-- 문자 대소문자 -->
    <block type="text_up_low">
      <value name="VAR">
        <block type="variables_get">
          <field name="VAR">s</field>
        </block>
      </value>

    </block>

    
    <!-- 문자 정렬 -->
    <block type="text_sort">
      <value name="VAR">
        <block type="variables_get">
          <field name="VAR">s</field>
        </block>
      </value>
      <value name="INPUT1">
        <shadow type="indata">
          <field name="indata1">' '</field>
        </shadow>
      </value>
      <value name="INPUT2">
        <shadow type="indata">
          <field name="indata1">10</field>
        </shadow>
      </value>
    </block>

    <!-- 문자 질의 -->
    <block type="text_query">
      <value name="VAR">
        <block type="variables_get">
          <field name="VAR">s</field>
        </block>
      </value>
      
    </block>
  </category>

  <!-- #####################################################################################################  -->
  <!-- ******************************   논리(Logic)  조건, 판단                ******************************* -->
  <!-- #####################################################################################################  -->
  <category name="%{BKY_CATEGORY_LOGIC}" colour="%{BKY_LOGIC_HUE}">
      
    <!-- if -->
    <block type="controls_if">
      <value name="IF0">
        <shadow type="indata">
          <field name="indata1">True</field>
        </shadow>
      </value>
    </block>

    <!-- if_else --> 
    <block type="controls_ifelse">
      <value name="IF0">
        <shadow type="indata">
          <field name="indata1">True</field>
        </shadow>
      </value>
    </block>

    <!-- 비교 블록 -->
    <block type="logic_compare">
      <value name="A">
        <shadow type="indata">
          <field name="indata1">0</field>
        </shadow>
      </value>
      <value name="B">
        <shadow type="indata">
          <field name="indata1">0</field>
        </shadow>
      </value>
    </block>

    <!-- true, false -->
    <block type="logic_operation">
      <value name="A">
        <shadow type="indata">
          <field name="indata1">True</field>
        </shadow>
      </value>
      <value name="B">
        <shadow type="indata">
          <field name="indata1">True</field>
        </shadow>
      </value>
    </block>

    <!-- not 블록-->
    <block type="logic_negate">
      <value name="BOOL">
        <shadow type="indata">
          <field name="indata1">True</field>
        </shadow>
      </value>
    </block>

    <!-- 참, 거짓 -->
    <block type="logic_boolean"></block>
    
    <!-- null값 -->
    <block type="logic_null"></block>

    <!-- 삼항연산자 -->
    <block type="logic_ternary">
      <value name="THEN">
        <shadow type="indata">
          <field name="indata1">True리턴</field>
        </shadow>
      </value>
      <value name="IF">
        <shadow type="indata">
          <field name="indata1">조건</field>
        </shadow>
      </value>
      <value name="ELSE">
        <shadow type="indata">
          <field name="indata1">False리턴</field>
        </shadow>
      </value>
    </block>

      <!-- 예외처리 -->
      <block type="try_except">
        <value name="EXCEPT1">
            <block type="except_block"></block>
        </value>
      </block>

    </category>
  <!-- #####################################################################################################  -->
  <!-- ******************************   반복(Repeat)                           ******************************* -->
  <!-- #####################################################################################################  -->
  <category name="%{BKY_CATEGORY_REPEAT}" colour="%{BKY_LOOPS_HUE}">
    <!-- [R1] repeat1-->
    <block type="controls_repeat">
      <value name="VAR">
        <block type="variables_get">
          <field name="VAR">i</field>
        </block>
      </value>
      <value name="COUNT">
        <shadow type="indata">
          <field name="indata1">4</field>
        </shadow>
      </value>
    </block>

    <!-- [R2] new_while-->
    <block type="controls_whileTorF">
      <value name="BOOL">
        <shadow type="indata">
          <field name="indata1">True</field>
        </shadow>
      </value>
    </block>

    <!-- [R3] for 문 range -->
    <block type="py_for1">
      <value name="item">
        <block type="variables_get">
          <field name="VAR">i</field>
        </block>
      </value>
      <value name="list">
        <shadow type="indata">
          <field name="indata1">0,10,1</field>
        </shadow>
      </value>
    </block>

    <!-- [R4] for 문 in -->
    <block type="py_for">
      <value name="item">
        <shadow type="indata">
          <field name="indata1">x, y</field>
        </shadow>
      </value>
      <value name="list">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <!-- [R5] 범위1 블록 -->
    <block type="range_len">
      <value name="x">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <!-- <block type="range1">
      <value name="VALUE1">
        <shadow type="indata">
          <field name="indata1">0</field>
        </shadow>
      </value>
      <value name="VALUE2">
        <shadow type="indata">
          <field name="indata1">5</field>
        </shadow>
      </value>
    </block> -->

    <!-- [R6] 범위2 블록 -->      
    <block type="range2">
      <value name="VALUE1">
        <shadow type="indata">
          <field name="indata1">0</field>
        </shadow>
      </value>
    </block>

    <!-- [R7] 범위3 블록 -->      
    <block type="range3">
      <value name="x">
        <shadow type="indata">
          <field name="indata1">0</field>
        </shadow>
      </value>
      <value name="y">
        <shadow type="indata">
          <field name="indata1">10</field>
        </shadow>
      </value>
      <value name="z">
        <shadow type="indata">
          <field name="indata1">1</field>
        </shadow>
      </value>
    </block>

    <!-- [R8] break 블록 -->      
    <block type="break_block"></block>
    
    <!-- [R9] continue 블록 -->      
    <block type="continue_block"></block>
    </category>
    <!-- 2020-12-26 양승국 end -->

  <!-- #####################################################################################################  -->
  <!-- ******************************   리스트 , 컬렉션(Collection)             ******************************* -->
  <!-- #####################################################################################################  -->
  <category name="%{BKY_CATEGORY_COLLECTION}" colour="%{BKY_COLLECTION_HUE}"> 
    <category name="조작&가공">
      <!-- [C1] -->
      <block type ="forif">
        <value name="SET0">
          <shadow type="indata">
            <field name="indata1">[</field>
          </shadow>
        </value>
        <value name="SET1">
          <shadow type="indata">
            <field name="indata1">리턴</field>
          </shadow>
        </value>
        <value name="SET2">
          <block type="variables_get">
            <field name="VAR">i</field>
          </block>
      </value>
        <value name="SET3">
          <shadow type="indata">
            <field name="indata1">범위</field>
          </shadow>
        </value>
        <value name="SET4">
          <shadow type="indata">
            <field name="indata1">조건</field>
          </shadow>
        </value>
        <value name="SET5">
          <shadow type="indata">
            <field name="indata1">]</field>
          </shadow>
        </value>
      </block>

      <!-- [C2] -->
      <block type ="forif2">
        <value name="SET0">
          <shadow type="indata">
            <field name="indata1">[</field>
          </shadow>
        </value>
        <value name="SET1">
          <shadow type="indata">
            <field name="indata1">리턴</field>
          </shadow>
        </value>
        <value name="SET2">
          <block type="variables_get">
            <field name="VAR">i</field>
          </block>
      </value>
        <value name="SET3">
          <shadow type="indata">
            <field name="indata1">범위</field>
          </shadow>
        </value>
        <value name="SET4">
          <shadow type="indata">
            <field name="indata1">]</field>
          </shadow>
        </value>
      </block>

      <!-- [C3] 생성변환 -->
      <block type = "change_collection">
        <value name="LIST">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <!-- [C4] 비어있는 리스트 생성 -->
      <block type="lists_create_with">
        <mutation items="0"></mutation>
      </block>

      <!-- [C5] 컬렉션의 길이 -->
      <block type="lists_length">
      <value name="VALUE">
        <block type="variables_get">
          <field name="VAR">my_list</field>
        </block>
      </value>
      </block>

      <!-- [C6] 리스트가 비어있는지 확인 -->
      <block type="lists_isEmpty">
        <value name="VALUE">
          <block type="variables_get">
            <field name="VAR">my_list</field>
          </block>
        </value>
      </block>

      <!-- [C7] 인덱싱 -->
      <block type = "va_sel">
        <value name="list">
          <block type="variables_get">
            <field name="VAR">my_list</field>
          </block>
        </value>
        <value name="dic1">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <!-- [C8] 값삭제 -->
      <block type = "va_del">
        <value name="list">
          <block type="variables_get">
            <field name="VAR">my_list</field>
          </block>
        </value>
        <value name="dic1">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <!-- [C9] map -->
      <block type="map3">
        <value name="data_type">
          <shadow type="indata">
            <field name="indata1">int</field>
          </shadow>
        </value>
        <value name="input">
          <shadow type="indata">
            <field name="indata1">데이터</field>
          </shadow>
        </value>
      </block>
    </category>
  
    <category name="리스트&튜플">
      <label text="리스트"></label>

      <!-- [L1] 리스트 생성 -->
      <block type = "create_list">
        <value name="list">
          <block type="variables_get">
            <field name="VAR">my_list</field>
          </block>
        </value>  
        <value name="text">
          <shadow type="indata">
            <field name="indata1">1,2,3,4</field>
          </shadow>
        </value>
      </block>

      <!-- [L2] 리스트 삽입 -->
      <block type="list_insert">
        <value name="list">
          <block type="variables_get">
            <field name="VAR">my_list</field>
          </block>
        </value>  
        <value name="INDEX">
          <shadow type="indata">
            <field name="indata1">인덱스</field>
          </shadow>
        </value>
        <value name="VALUE">
          <shadow type="indata">
            <field name="indata1">값</field>
          </shadow>
        </value>
      </block>

      <!-- [L3] 리스트 정렬,역순 -->
      <block type="list_sort_reverse">
        <value name="list">
          <block type="variables_get">
            <field name="VAR">my_list</field>
          </block>
        </value>  
      </block>

      <!-- [L4] 데이터 다루기1 -->
      <block type="create_new_list2">
        <value name="VAR1">
          <block type="variables_get">
            <field name="VAR">my_list</field>
          </block>
        </value>
        <value name="DIVISOR">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>
        
      <!-- [L5] 데이터 다루기2 -->
      <block type="create_new_list">
        <value name="VAR1">
          <block type="variables_get">
            <field name="VAR">my_list</field>
          </block>
        </value>
        <value name="DIVISOR">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <!--zip함수-->
      <block type="create_zip">
        <value name="data_type">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <label text="튜플"></label>
        <!-- 튜플블록 -->
        <block type = "create_tuple">
          <value name="list">
            <block type="variables_get">
              <field name="VAR">my_tuple</field>
            </block>
          </value>  
          <value name="text">
            <shadow type="indata">
              <field name="indata1">1,2,3,4</field>
            </shadow>
          </value>
        </block>
    </category>
    
    <category name="딕셔너리&집합">
      <label text="집합"></label>
      <!-- 집합블록 -->
      <block type = "create_ziphap">
        <value name="list">
          <block type="variables_get">
            <field name="VAR">my_set</field>
          </block>
        </value>  
        <value name="text">
          <shadow type="indata">
            <field name="indata1">1,2,3,4</field>
          </shadow>
        </value>
      </block>      

      <!-- 집합 다루기 블록-->
      <block type = "set_menu1_2">
        <value name="SET1">
          <block type="variables_get">
            <field name="VAR">my_set</field>
          </block>
        </value>
        <value name="SET2">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <block type = "set_menu1">
        <value name="SET1">
          <block type="variables_get">
            <field name="VAR">my_set</field>
          </block>
        </value>
        <value name="SET2">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <label text="딕셔너리"></label>
      <!-- 딕셔너리1 -->
      <block type = "create_dict">
        <value name="list">
          <block type="variables_get">
            <field name="VAR">my_dict</field>
          </block>
        </value>  
        <value name="text">
          <shadow type="indata">
            <field name="indata1">'a':1, 'b':2</field>
          </shadow>
        </value>
      </block>  

      <block type ="dic_menu1">
        <value name="list">
          <block type="variables_get">
            <field name="VAR">my_dict</field>
          </block>
        </value>  
      </block>

      <block type = "va_ser">
        <value name="dic1">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
        <value name="list">
          <block type="variables_get">
            <field name="VAR">my_dict</field>
          </block>
        </value>  
      </block>
    </category>

    <!---------------------------------------------------------------------------------------deque--------->
    <category name="디큐(deque)">
      <label text="dequeue"></label>
      <!-- 컬렉션 라이브러리 -->
      <block type="collection_library"></block>
      <!-- deque 생성-->
      <block type = "create_deque">
        <value name="VAR">
          <block type="variables_get">
            <field name="VAR">my_deque</field>
          </block>
        </value>
        <value name="INPUT">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>  
      </block>
      <!-- deque 다루기1 -->
      <block type = "deque_menu1">
        <value name="VAR">
          <block type="variables_get">
            <field name="VAR">my_deque</field>
          </block>
        </value>
        <value name="INPUT">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>
      <!-- deque 다루기2 -->
      <block type = "deque_menu2">
        <value name="VAR">
          <block type="variables_get">
            <field name="VAR">my_deque</field>
          </block>
        </value>
      </block>
    </category>  
      
    <!-- 딕셔너리2 
    <block type = "dict1"></block>
    -->
    <!-- 리스트 생성 -->
    <!-- <block type="lists_create_with"></block> -->
    <!-- 변수명 이렇게 하면 잘들어가지긴함
      <value name="ADD0">
        <shadow type="indata">
          <field name="indata1">1</field>
        </shadow>
      </value>
      <value name="ADD1">
        <shadow type="indata">
          <field name="indata1">2</field>
        </shadow>
      </value>
      <value name="ADD2">
        <shadow type="indata">
          <field name="indata1">3</field>
        </shadow>
      </value> -->
  
    <!-- 같은 내용을 n번 넣어 리스트 생성 -->
    <!-- <block type="lists_repeat">ITEM
      <value name="ITEM">
        <shadow type="indata">
          <field name="indata1">1,2,3,4</field>
        </shadow>
      </value>
      <value name="NUM">
        <shadow type="indata">
          <field name="indata1">5</field>
        </shadow>
      </value>
    </block> -->
    <!-- split -
    <block type="lists_split">
      <value name="INPUT">
        <block type="variables_get">
          <field name="VAR">my_list</field>
        </block>
      </value>
      <value name="DELIM">
        <shadow type="indata">
          <field name="indata1">,</field>
        </shadow>
      </value>
    </block>
    -->
    <!-- <block type="tfarraylen"></block>  -->


    <!-- 튜플 -->
    <!-- <block type="tuple"></block> -->
    <!-- 새 블록  딕셔너리 -->
    <!-- <block type="dict"></block> -->

    <!-- 딕셔너리 옵션 -->
    <!-- <block type="dic_menu">
      <value name="dic1">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
      <value name="dic2">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
      <value name="dic3">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block> -->
    <!-- 집합 -->
    <!-- <block type="set">
      <value name="SET">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block> -->
    <!-- 집합선택 -->
    
    <!-- <block type="set_menu">
      <value name="SET1">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
      <value name="SET2">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block> -->
    <!-- 연산에 있음 <block type="sump"></block> -->
    <!-- sort,reverse -->

    <!-- 리스트에서 값 찾기 
    <block type="list_index">
      <value name="LIST">
        <shadow type="indata">
          <field name="indata1">my_list</field>
        </shadow>
      </value>
      <value name="INDEX">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>
    -->


    <!-- remove, pop, count, extend 
    <block type="list_remove_pop_count_extend">
      <value name="LIST">
        <shadow type="indata">
          <field name="indata1">my_list</field>
        </shadow>
      </value>
      <value name="VALUE">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>

    </block>
    -->

    <!-- 리스트 자르기 -->
    <!-- <block type="list_dot">
      <value name="list">
        <shadow type="indata">
          <field name="indata1">my_list</field>
        </shadow>
      </value>
      <value name="a">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
      <value name="b">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>
  -->
    <!-- return 반환
    <block type="py_return"></block>
    -->

    <!-- 인덱스 가져오기 -->
    <!-- <block type="array_select">
      <value name="array_var"> 
        <block type="variables_get">
          <field name="VAR">array</field>
        </block>
      </value>
    </block> -->
  </category>

  <!-- #####################################################################################################  -->
  <!-- ******************************   수학통계(Operation)                       ******************************* -->
  <!-- #####################################################################################################  -->
  <category name="%{BKY_CATEGORY_OPERATION}" colour="%{BKY_MATH_HUE}">
    <block type = "operation_library"></block>
    <label text="수학"></label>
    
    <!--<block type = "math_library"></block>-->
    <!--2020-12-29 전우진 math1  -->
    <block type = "math1">
      <value name="va">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <block type = "math2">
      <value name="va1">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
      <value name="va2">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <block type = "math3"></block>

    <!--2020-12-29 전우진 math1 end -->
    <label text="통계 및 랜덤"></label>

    <!--<block type = "static_library"></block>-->

    <block type = "statistics1">
      <value name="va">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <block type = "statistics2">
      <value name="va1">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
      <value name="va2">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <!--<block type = "random_library"></block>-->
    <block type = "random1_integer">
    </block>

    <block type = "random1_choice">
      <value name="va2">
        <shadow type="indata">
          <field name="indata1">컬렉션</field>
        </shadow>
      </value>
    </block>

    <block type = "random1_shuffle">
      <value name="va3">
        <shadow type="indata">
          <field name="indata1">컬렉션</field>
        </shadow>
      </value>
    </block>

    <block type = "random2">
      <value name="va1">
        <shadow type="indata">
          <field name="indata1">시작</field>
        </shadow>
      </value>
      <value name="va2">
        <shadow type="indata">
          <field name="indata1">끝</field>
        </shadow>
      </value>
    </block>

    <block type = "random3">
      <value name="va1">
        <shadow type="indata">
          <field name="indata1">컬렉션</field>
        </shadow>
      </value>
      <value name="va2">
        <shadow type="indata">
          <field name="indata1">갯수</field>
        </shadow>
      </value>
    </block>
  </category>

  <!-- #####################################################################################################  -->
  <!-- ******************************   함수&클래스     //                     ******************************* -->
  <!-- #####################################################################################################  -->
  <!-- 커스텀 블록 -->
  <!-- <category name="기존함수(Function)" colour="%{BKY_PROCEDURES_HUE}" custom="PROCEDURE"></category> -->
  <category name="%{BKY_CATEGORY_FUNCTION}" colour="%{BKY_PROCEDURES_HUE}">

    <label text="함수"></label>
    <!-- 함수 -->
    <block type="webdefine">
      <value name="1">
        <block type="variables_get">
          <field name="VAR">func</field>
        </block>
      </value>  
      <value name="2">
        <shadow type="indata">
          <field name="indata1">x</field>
        </shadow>
      </value>
    </block>

    <!-- 생성자 -->
    <block type="webdefine2">
      <value name="1">
        <block type="variables_get">
          <field name="VAR">__init__</field>
        </block>
      </value>  
      <value name="2">
        <shadow type="indata">
          <field name="indata1">self,</field>
        </shadow>
      </value>
      <value name="DO">
        <block type="self">
          <value name="VAR">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value> 
          <value name="varset">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block>
      </value>
    </block>

    <!-- return -->
    <block type="webreturn2">
      <value name="return">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block> 

    <!-- return1 -->
    <block type="func_return1">
      <value name="1">
        <block type="variables_get">
          <field name="VAR">res</field>
        </block>
      </value>  
      <value name="2">
        <block type="variables_get">
          <field name="VAR">func</field>
        </block>
      </value>  
      <value name="3">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>  
    </block>

    <block type="func_return11">
      <value name="1">
        <block type="variables_get">
          <field name="VAR">func</field>
        </block>
      </value>
      <value name="3">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>   
    </block>

    <!-- return2 -->
    <block type="func_return2">
      <value name="1">
        <shadow type="indata">
          <field name="indata1">x,y</field>
        </shadow>
      </value>  
      <value name="2">
        <block type="variables_get">
          <field name="VAR">func</field>
        </block>
      </value> 
      <value name="3">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value> 
    </block>
    <!-- 전역변수 -->
    <block type="global">
      <value name="text">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>
    
    <label text="클래스"></label>
    <!-- 클래스 -->
    <block type="webclass">
      <value name="VAR">
        <block type="variables_get">
          <field name="VAR">MyClass</field>
        </block>
      </value> 
    </block>
    <!-- 상속 -->
    <block type="webclass2">
      <value name="VAR">
        <block type="variables_get">
          <field name="VAR">MyClass</field>
        </block>
      </value> 
      <value name="INPUT">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>
      

    <!-- self -->
    <block type="self">
      <value name="VAR">
        <block type="variables_get">
          <field name="VAR">a</field>
        </block>
      </value> 
      <value name="varset">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <!-- 클래스 self -->
    <block type="self_block">
      <value name="NAME">
        <block type="variables_get">
          <field name="VAR">result</field>
        </block>
      </value> 
    </block>  

    <!-- 객체 사용 -->
    <block type="class_use">
      <value name="VAR1">
        <block type="variables_get">
          <field name="VAR">obj</field>
        </block>
      </value> 
      <value name="VAR2">
        <block type="variables_get">
          <field name="VAR">func</field>
        </block>
      </value> 
      <value name="3">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block> 

    <block type="class_use2">
      <value name="VAR1">
        <block type="variables_get">
          <field name="VAR">obj</field>
        </block>
      </value> 
      <value name="VAR2">
        <block type="variables_get">
          <field name="VAR">func</field>
        </block>
      </value> 
      <value name="3">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block> 

    <!-- 객체 생성 -->
    <block type="class_make">
      <value name="1">
        <block type="variables_get">
          <field name="VAR">obj</field>
        </block>
      </value> 
      <value name="2">
        <block type="variables_get">
          <field name="VAR">MyClass</field>
        </block>
      </value> 
      <value name="3">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <label text=""></label>
    <block type = "withs">
      <value name="set0">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
      <value name="set1">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>
    
  </category>

  <!-- #####################################################################################################  -->
  <!-- ******************************  데이터베이스     //                     ******************************* -->
  <!-- #####################################################################################################  -->
  <category name="%{BKY_CATEGORY_DB}" colour="205">
    <!-- sqllite3 라이브러리-->
    <block type="sqlite_library"></block>
      
    <!-- db연결, 생성-->
    <block type="db_conn">
      <value name="va">
        <shadow type="indata">
          <field name="indata1">'DB명.db'</field>
        </shadow>
      </value>
    </block>
    
    <block type = "db_autocommit"></block>

    <!-- db삭제 -->
    <block type = "db_deletedb">
      <value name="SET0">
        <shadow type="indata">
          <field name="indata1">테이블</field>
        </shadow>
      </value>
    </block>

    <!-- db종료 -->
    <block type="db_close"></block>

    <!-- 커서 -->
    <block type="db_cur"></block>
    
    <!-- sql실행 -->
    <block type="db_exec">
      <value name="va">
        <shadow type="indata">
          <field name="indata1">sql</field>
        </shadow>
      </value>
    </block>

    <!-- sql실행-->
    <block type="db_execM">
      <value name="va1">
        <shadow type="indata">
          <field name="indata1">sql</field>
        </shadow>
      </value>
      <value name="va2">
        <shadow type="indata">
          <field name="indata1">data</field>
        </shadow>
      </value>
    </block>
      
    <!-- 저장 -->
    <block type="db_commit"></block>
    
    <!-- 복구 -->
    <block type="db_rollback">
    </block>

    <!-- <block type="db_fetchone"></block>

    <block type="db_fetchall"></block> -->

    <block type="db_fetch"></block>

    <block type="db_fetchmany">
      <value name="va">
        <shadow type="indata">
          <field name="indata1">개수</field>
        </shadow>
      </value>
    </block>

    <block type = "create_data1">
      <value name="list">
        <block type="variables_get">
          <field name="VAR">data</field>
        </block>
      </value>  
      <value name="text">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <block type = "db_with">
      <value name="set0">
        <block type="variables_get">
          <field name="VAR">con</field>
        </block>
      </value>  
    </block>

    <!-- 테이블 생성 -->
    <block type = "db_create">
      <value name="d1">
        <shadow type="indata">
          <field name="indata1">테이블</field>
        </shadow>
      </value>
      <value name="d2">
        <shadow type="indata">
          <field name="indata1">변수 타입, 변수 타입</field>
        </shadow>
      </value>
    </block>

    <!-- 삽입 -->
    <block type = "db_insert">
      <value name="d1">
        <shadow type="indata">
          <field name="indata1">테이블</field>
        </shadow>
      </value>
      <value name="d2">
        <shadow type="indata">
          <field name="indata1">(?, ?)</field>
        </shadow>
      </value>
    </block>

    <!-- 조회 -->
    <block type = "db_select2">
      <value name="d1">
        <shadow type="indata">
          <field name="indata1">필드</field>
        </shadow>
      </value>
      <value name="d2">
        <shadow type="indata">
          <field name="indata1">테이블</field>
        </shadow>
      </value>
    </block>

    <!-- 조회1 where-->
    <!-- <block type = "db_select1">
      <value name="d1">
        <shadow type="indata">
          <field name="indata1">필드</field>
        </shadow>
      </value>
      <value name="d2">
        <shadow type="indata">
          <field name="indata1">테이블</field>
        </shadow>
      </value>
      <value name="d3">
        <shadow type="indata">
          <field name="indata1">조건</field>
        </shadow>
      </value>
    </block> -->

    <!-- 조회 where order group까지  -->
    <block type = "db_select6">
      <value name="SET0">
        <shadow type="indata">
          <field name="indata1">필드</field>
        </shadow>
      </value>
      <value name="SET1">
        <shadow type="indata">
          <field name="indata1">테이블</field>
        </shadow>
      </value>
      <value name="SET2">
        <shadow type="indata">
          <field name="indata1">조건 또는 필드</field>
        </shadow>
      </value>
    </block>

    <!-- 조회 where order group desc까지  -->
    <!-- <block type = "db_select7">
      <value name="SET0">
        <shadow type="indata">
          <field name="indata1">필드</field>
        </shadow>
      </value>
      <value name="SET1">
        <shadow type="indata">
          <field name="indata1">테이블</field>
        </shadow>
      </value>
      <value name="SET2">
        <shadow type="indata">
          <field name="indata1">조건 또는 필드</field>
        </shadow>
      </value>
    </block> -->

    <!-- 조회 order by -->
    <!-- <block type = "db_select3">
      <value name="SET0">
        <shadow type="indata">
          <field name="indata1">필드</field>
        </shadow>
      </value>
      <value name="SET1">
        <shadow type="indata">
          <field name="indata1">테이블</field>
        </shadow>
      </value>
      <value name="SET2">
        <shadow type="indata">
          <field name="indata1">필드</field>
        </shadow>
      </value>
    </block> -->

    <!-- desc 붙은 order by 
    <block type = "db_select4">
      <value name="SET0">
        <shadow type="indata">
          <field name="indata1">필드</field>
        </shadow>
      </value>
      <value name="SET1">
        <shadow type="indata">
          <field name="indata1">테이블</field>
        </shadow>
      </value>
      <value name="SET2">
        <shadow type="indata">
          <field name="indata1">필드</field>
        </shadow>
      </value>
    </block>
    -->

    <!-- 조회 group by -->
    <!-- <block type = "db_select5">
      <value name="SET0">
        <shadow type="indata">
          <field name="indata1">필드</field>
        </shadow>
      </value>
      <value name="SET1">
        <shadow type="indata">
          <field name="indata1">테이블</field>
        </shadow>
      </value>
      <value name="SET2">
        <shadow type="indata">
          <field name="indata1">필드</field>
        </shadow>
      </value>
    </block> -->

    <!-- 수정 -->
    <block type = "db_update">
      <value name="d1">
        <shadow type="indata">
          <field name="indata1">테이블</field>
        </shadow>
      </value>
      <value name="d2">
        <shadow type="indata">
          <field name="indata1">수정</field>
        </shadow>
      </value>
      <value name="d3">
        <shadow type="indata">
          <field name="indata1">조건</field>
        </shadow>
      </value>
    </block>

    <!-- 수정 -->
    <block type = "db_update2">
      <value name="d1">
        <shadow type="indata">
          <field name="indata1">테이블</field>
        </shadow>
      </value>
      <value name="d2">
        <shadow type="indata">
          <field name="indata1">수정</field>
        </shadow>
      </value>
    </block>

    <!-- 삭제 -->
    <block type = "db_delete">
      <value name="d1">
        <shadow type="indata">
          <field name="indata1">테이블</field>
        </shadow>
      </value>
      <value name="d2">
        <shadow type="indata">
          <field name="indata1">조건</field>
        </shadow>
      </value>
    </block>

    <!-- 삭제 -->
    <block type = "db_delete2">
      <value name="d1">
        <shadow type="indata">
          <field name="indata1">테이블</field>
        </shadow>
      </value>
    </block>
  </category>

  <sep></sep>
    
  <!-- #####################################################################################################  -->
  <!-- ******************************   데이타 사이언스 //  2020 - 09 - 07     ******************************* -->
  <!-- #####################################################################################################  -->
  <category name="%{BKY_CATEGORY_NUMPY}" colour="%{BKY_NUMPY_HUE}"> <!--넘파이(Numpy)-->
    <category name="기본" colour="%{BKY_NUMPY_HUE}">
      <!-- import numpy as np -->
      <block type="numpy_library"></block>
    
      <!-- loadtxt -->
      <block type = "numpy_loadtxt_basic">
        <value name="text">               
            <block type="fileopen"></block>     
        </value>
        <value name="delimiter">
          <shadow type="indata">
            <field name="indata1">','</field>
          </shadow>
        </value>
        <Value name="dtype">
          <shadow type="indata">
            <field name="indata1">dtype = int</field>
          </shadow>
        </Value>
      </block>

      <!-----------------------------------------------------------------------------배열생성-->
      <label text="배열 생성"></label>
        <!-- 넘파이 배열생성 1 -->
        <block type = "create_np_array">
          <value name="text">
            <shadow type="indata">
              <field name="indata1">[1,2,3,4]</field>
            </shadow>
          </value>

          <value name="dtype">
            <shadow type="indata">
              <field name="indata1">dtype = int</field>
            </shadow>
          </value>
        </block>
        
        <!-- 넘파이 배열생성 2-->
        <block type = "create_np_array2">
          <value name="text">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
          <value name="text2">
            <shadow type="indata">
              <field name="indata1"> : </field>
            </shadow>
          </value>
        </block>

        <!-- numpy.array -->
        <block type="np_array">
          <value name="INPUT">
            <shadow type="indata">
              <field name="indata1">[1,2,3,4]</field>
            </shadow>
          </value>
          <value name="DTYPE">
            <shadow type="indata">
              <field name="indata1">dtype = int</field>
            </shadow>
          </value>
        </block>

        <!-- <value name="np_array_val">
          <block type="create_arry"></block>
        </value> -->

        <!-- 배열생성 / 0 & 1 --> 
        <block type="numpy_ones_and_zeros_basic">
          <value name="parameter1"> 
            <shadow type="indata">
              <field name="indata1">행,열</field>
            </shadow>
          </value>
          <value name="parameter2"> 
            <shadow type="indata">
              <field name="indata1">dtype = float</field>
            </shadow>
          </value>  
        </block> 

        <block type="numpy_eye_basic">
          <value name="parameter1"> 
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block> 
        <!-- 배열생성 / 0 & 1 -->

        <!-- 배열생성 / 숫자 범위 --> 
        <block type="numpy_numerical_ranges_basic1">
          <value name="parameter1"> 
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block> 
        <!-- 배열생성 / 숫자 범위 -->

        <!----------------------------------------------------------------------배열-->
        <label text="배열 모양 변경"></label>
        <!-- 배열생성 / 숫자 범위2 --> 
        <!-- <block type="numpy_numerical_ranges_basic2">
          <value name="parameter1"> 
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
          <value name="parameter2"> 
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value> 
        </block>  -->
        <!-- 배열생성 / 숫자 범위2 -->

        <!-- astype -->
        <block type="numpy_astype">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">a</field>
            </block>
          </value>
          <value name="INPUT">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block>

        <!-- np.reshape  -->
        <block type="numpy_changing_array_shape_basic">
          <value name="numpy_Changing_array_shape_val"> 
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>  
        </block>

        <block type="numpy_reshape">
          <value name="numpy_reshape_val"> 
            <block type="variables_get">
              <field name="VAR">a</field>
            </block>
          </value>  

          <value name="numpy_reshape_struct"> 
            <shadow type="indata">
              <field name="indata1">행,열</field>
            </shadow>
          </value>  
        </block>

        <block type="numpy_select"></block>
        <!-- 차원확인 -->
        <!-- <block type="numpy_shape">
          <value name="numpy_shape_num1">
            <block type="variables_get">
              <field name="VAR">np</field>
            </block>
          </value>
          <value name="numpy_shape_num">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block> -->
        <!-- np.shape  -->

        <block type="numpy_transpose_like_operations_basic">
          <value name="numpy_Transpose_like_operations_val"> 
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>  
        </block> 

        <block type="numpy_from_existing_data">
          <value name="numpy_From_existing_data_val"> 
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>  
        </block> 

        <!----------------------------------------------------------------------랜덤-->
        <label text="랜덤&정렬"></label>

        <block type="numpy_random_generator_basic">
          <value name="numpy_Random_generator_val"> 
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>  
        </block> 

        <block type="numpy_random_sample_basic">
          <value name="parmeter1"> 
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>  

        </block> 

      <!----------------------------------------------------------------------수학 통계-->
      <label text="넘파이 기본 연산"></label>

        <!-- 수학 / 삼각 -->
        <block type="numpy_mathematical_functions">
          <value name="numpy_Mathematical functions_val"> 
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>   
        </block> 
        <!-- 수학 / 삼각  -->

        <!-- 넘파이 기본연산 -->
        <block type="numpy_operator_basic">
          <value name="parameter1"> 
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
          <value name="parameter2"> 
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value> 
        </block>
        <!-- 넘파이 기본연산 -->

        <!-- 수학 / 반올림 --> 
        <block type="numpy_rounding_basic">
          <value name="numpy_Rounding_val"> 
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>  
        </block> 
        <!-- 수학 / 반올림  -->

        <!-- 수학 / 합계 & 차이 --> 
        <block type="numpy_sums_differences">
          <value name="numpy_Sums_differences_val"> 
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>  
        </block> 
        <!-- 수학 / 합계 & 차이  -->
        <!-- 수학 / 지수 & 로그 --> 
        <!-- <block type="numpy_exponents_logarithms_basic">
          <value name="numpy_Exponents_logarithms_val"> 
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>  
        </block>  -->
        <!-- 행렬 연산-->
        <block type="numpy_array_operator_basic">
          <value name="parameter1">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value> 
        </block>
          <!-- <value name="parameter2">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>  -->
        
        <!-- 행렬 연산 -->
      
        <!-- 통계 / 평균 & 분산  -->
        <block type="numpy_averages_variances_basic">
          <value name="parameter1">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value> 
        </block>
          <!-- <value name="parameter2">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value> -->
        
        <!-- 통계 / 평균 & 분산  -->
      
      <!---------------------------------------------------------------------인덱스/값검색-->
      <label text="인덱스/값 검색"></label>
        <!-- 넘파이 인덱스/값 검색 -->
        <block type="numpy_index_values_basic">
          <value name="numpy_index_values_val">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value> 
        </block>
        <!-- 넘파이 인덱스/값 검색 -->

        <!-- 넘파이 인덱스/값 검색 인자 두개-->
        <block type="numpy_index_values2">
          <value name="numpy_index_values_val">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value> 
        </block>
        <!-- 넘파이 인덱스/값 검색 인자 두개-->

        <!-- 통계 / 평균 & 분산  -->

        <!-- CSV 저장 -->
        <!-- <block type="data_to_csv"></block> -->
        <!-- CSV 저장 -->

        <!-- data_conversion-->
        <!-- <block type="data_conversion"></block> -->
        <!-- data_conversion -->

        <!-- numpy_concatenate -->
        <!-- <block type="np_concatenate"></block> -->
        <!-- numpy_concatenate -->

        <!-- numpy.array -->

        <!-- numpy.array -->
        <!-- <block type="np_array"></block> -->
        <!-- numpy.array -->

        <!-- numpy.arrage -->
        <!-- <block type="np_arrange"></block> -->
        <!-- numpy.arrage -->


        <!-- numpy.zeros -->
        <!-- <block type="numpy_zeros"></block> -->
        <!-- numpy.zeros -->

        <!-- numpy.full  -->
        <!-- <block type="numpy_full"> </block> -->
        <!-- numpy.full  -->

        <!-- np.eye   -->
        <!-- <block type="numpy_eye"></block> -->
        <!-- np.eye   -->

        <!-- np.max_min  -->
        <!-- <block type="numpy_max_min"></block> -->
        <!-- np.max_min  -->
        <sep></sep>
        <!-- np.shape  -->
        <!-- <block type="numpy_shape"></block> -->
        <!-- np.shape  -->

        <!-- np.reshape  -->
        <!-- <block type="np_flatten"> </block> -->
        <!-- np.reshape  -->

        <!--  random. randn or randint   -->
        <!-- <block type="numpy_random_rand">
          <value name="numpy_random_rand_lib_val">
            <block type="variables_get">
              <field name="VAR">np</field>
            </block>
          </value>

          <value name="numpy_random_rand_num1">
            <shadow type="math_number">
              <field name="NUM">2</field>
            </shadow>
          </value>

          <value name="numpy_random_rand_num2">
            <shadow type="math_number">
              <field name="NUM">2</field>
            </shadow>
          </value>
        </block> -->
        <!--  random. randn or randint   -->

        <!--  np.exp  -->
        <!-- <block type="numpy_exp"></block> -->
        <!--  np.exp  -->

        <!--  np.mean  -->
        <!-- <block type="np_mean"></block> -->
        <!--  np.mean  -->

        <!--  np.diff  -->
        <!-- <block type="np_diff_"></block> -->
        <!--  np.diff  -->

        <!-- np.append -->
        <!-- <block type="np_arry_change"></block> -->
        <!-- np.append -->

        <!-- np.prod -->
        <!-- <block type="np_prod"></block> -->
        <!-- np.prod -->

        <!-- np.fft -->
        <!-- <block type="np_fft_fft"></block> -->
        <!-- np.fft -->

        <!-- np.abs -->
        <!-- <block type="nump_abs"></block> -->
        <!-- np.abs -->

        <!--  import sklearn  -->
        <!-- <block type="lib_import_sklearn"></block> -->
        <!--  import sklearn  -->
      </category>

      <!-------------------------------------------------------------------------------------------- 수학 & 통계-->
      <category name="수학&통계" colour="%{BKY_NUMPY_HUE}">
        <label text="수학"></label>
        <!-- 수학 / 삼각 -->
        <block type="numpy_mathematical_functions">
          <value name="numpy_Mathematical functions_val"> 
            <block type="class_func_param"></block>
          </value>   
        </block> 
        <!-- 수학 / 삼각  -->

        <!-- 수학 / 쌍곡 --> 
        <block type="numpy_hyperbolic_functions">
          <value name="numpy_Hyperbolic functions_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 수학 / 쌍곡  -->

        <!-- 수학 / 반올림 --> 
        <block type="numpy_rounding">
          <value name="numpy_Rounding_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 수학 / 반올림  -->

        <!-- 수학 / 지수 & 로그 --> 
        <block type="numpy_exponents_logarithms">
          <value name="numpy_Exponents_logarithms_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 수학 / 지수 & 로그  -->

        <!-- 수학 / 산술1 --> 
        <block type="numpy_arithmetic_operations1">
          <value name="numpy_Arithmetic_operations1_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 수학 / 산술1  -->

        <!-- 수학 / 산술2 --> 
        <block type="numpy_arithmetic_operations2">
          <value name="numpy_Arithmetic_operations2_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 수학 / 산술2  -->

        <!-- 수학 / 복소수 --> 
        <block type="numpy_handling_complex_numbers">
          <value name="numpy_Handling complex numbers_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 수학 / 복소수  -->

        <!-- 수학 / 합계 & 차이 --> 
        <block type="numpy_sums_differences">
          <value name="numpy_Sums_differences_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 수학 / 합계 & 차이  -->
        
        <label text="통계"></label>
        <block type="numpy_order_static">
          <value name="numpy_order_static_val">
            <block type="class_func_param"></block>
          </value>  
        </block>
        <!-- 통계 / 순서  -->

        <!-- 통계 / 평균 & 분산  -->
        <block type="numpy_averages_variances">
          <value name="numpy_Averages_variances_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block>
        <!-- 통계 / 평균 & 분산  -->

        <!-- 통계 / 상관 -->
        <block type="numpy_correlating">
          <value name="numpy_Correlating_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block>
        <!-- 통계 / 상관 -->

        <label text="선형대수"></label>
        <!-- 선형 / 행렬 &벡터 -->
        <block type="numpy_matrix_vector_products">
          <value name="numpy_Matrix_vector_products_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 선형 / 행렬 &벡터 -->

        <!-- 선형 / 분해 --> 
        <block type="numpy_matrix_decomposition">
          <value name="numpy_Matrix_Decomposition_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 선형 / 분해  -->
      </category>
      <!------------------------------------------------------------------------------------------------배열-->
      <category name="배열" colour="%{BKY_NUMPY_HUE}">
        <label text="배열"></label>
        <!-- 배열생성 / 기존데이터 --> 
        <block type="numpy_from_existing_data">
          <value name="numpy_From_existing_data_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 배열생성 / 기존데이터 -->

        <!-- 배열조작 / 모양 변경 --> 
        <block type="numpy_changing_array_shape">
          <value name="numpy_Changing_array_shape_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 배열조작 / 모양 변경  -->

        <!-- 배열조작 / 종류 변경 --> 
        <block type="numpy_changing_kind_array">
        <value name="numpy_Changing_kind_array_val"> 
          <block type="class_func_param"></block>
        </value>  
        </block> 
        <!-- 배열조작 / 종류 변경   -->

        <!-- 배열조작 / 추가 & 제거 --> 
        <block type="numpy_adding_removing_elements">
          <value name="numpy_Adding_removing_elements_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 배열조작 / 추가 & 제거 -->

        <!-- 배열생성 / 숫자 범위 --> 
        <block type="numpy_numerical_ranges">
          <value name="numpy_Numerical_ranges_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 배열생성 / 숫자 범위 -->

        <!-- 배열생성 / 0 & 1 --> 
        <block type="numpy_ones_and_zeros">
          <value name="numpy_Ones and zeros_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 배열생성 / 0 & 1 -->

        <!-- 배열생성 / 행렬 --> 
        <block type="numpy_building_matrices">
          <value name="numpy_Building_matrices_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 배열생성 / 행렬 -->

        <!-- 배열조작 / 전치 --> 
        <block type="numpy_transpose_like_operations">
          <value name="numpy_Transpose_like_operations_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 배열조작 / 전치  -->

        <!-- 배열조작 / 결합 --> 
        <block type="numpy_joining_arrays">
          <value name="numpy_Joining_arrays_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 배열조작 / 결합   -->

        <!-- 배열조작 / 분할 --> 
        <block type="numpy_splitting_arrays">
          <value name="numpy_Splitting_arrays_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 배열조작 / 분할 -->

        <!-- 배열조작 / 재정렬 --> 
        <block type="numpy_rearranging_elements">
          <value name="numpy_Rearranging_elements_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 배열조작 / 재정렬 -->

        <!-- 배열생성 / 레코드 --> 
        <block type="numpy_creating_record_arrays">
          <value name="numpy_Creating_record_arrays_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 배열생성 / 레코드 -->

        <!-- 배열조작 / 차원수 변경  
        <block type="numpy_changing_number">
          <value name="numpy_Changing_number_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
      -->
        <!-- 배열조작 / 차원수 변경   -->
      </category>

      <category name="랜덤&정렬" colour="%{BKY_NUMPY_HUE}">
        <label text="랜덤"></label>
        
        <!-- 랜덤 / 단순 -->
        <block type="numpy_random_sample">
          <value name="numpy_Random_sample_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 랜덤 / 단순 -->

        <!-- 랜덤 / 순열  -->
        <block type="numpy_random_permutations">
          <value name="numpy_Random_Permutations_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 랜덤 / 순열  -->

        <!-- 랜덤 / 분포1  -->
        <block type="numpy_random_distributions">
          <value name="numpy_Random_Distributions_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 랜덤 / 분포1  -->

        <!-- 랜덤 / 분포2  -->
        <block type="numpy_random_distributions_two">
          <value name="numpy_Random_Distributions_two_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 랜덤 / 분포2  -->

        <!-- 랜덤 / 분포3 -->
        <block type="numpy_random_distributions_third">
          <value name="VAR"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 랜덤 / 분포3  -->

        <!-- 랜덤 / 생성기 -->
        <block type="numpy_random_generator">
          <value name="numpy_Random_generator_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 랜덤 / 생성기  -->
        
        <label text="정렬&검색"></label>
        <!-- 정렬 -->
        <block type="numpy_sorting">
          <value name="numpy_Sorting_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 정렬 -->

        <!-- 검색 -->
        <block type="numpy_searching">
          <value name="numpy_Searching"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 검색 -->
      </category>
      <category name="논리&문자열" colour="%{BKY_NUMPY_HUE}">
        <label text="논리"></label>
        <!-- 논리 / 배열 --> 
        <block type="numpy_array_contents">
          <value name="numpy_Array_contents_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 논리 / 배열  -->

        <!-- 논리 / 비교 --> 
        <block type="numpy_comparison">
          <value name="numpy_Comparison_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 논리 / 비교  -->
        
        <label text="문자열"></label>
        <!-- 문자열 / 연산1 --> 
        <block type="numpy_string_operations">
          <value name="numpy_String_operations_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 문자열 / 연산1  -->

        <!-- 문자열 / 연산2 --> 
        <block type="numpy_string_operations2">
          <value name="numpy_String_operations2_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 문자열 / 연산2  -->

        <!-- 문자열 / 정보 --> 
        <block type="numpystring_information">
          <value name="numpyString_information_val"> 
            <block type="class_func_param"></block>
          </value>  
        </block> 
        <!-- 문자열 / 정보  -->
        
      </category>
      <!-- import numpy as np -->
      
    </category>

    <!-- ************************************************** ************************* *************************  -->
    <!-- *************************************** 2020-09-07, 판다스 Pandas Blocks  ***********************************  -->
    <!-- ************************************************** ************************* *************************  -->
    <!-- 2020-09-20 양승국 수정-->
    <category name="%{BKY_CATEGORY_PANDAS}" colour="%{BKY_PANDAS_HUE}"> 
      <category name="생성&조회" colour="%{BKY_PANDAS_HUE}">

        <!-- pandas 라이브러리 -->
        <block type="pandas_library"></block>

        <!-- pyodide 라이브러리 -->
        <block type="pyodide_library" ></block>

        <block type = "csv_url">
          <value name="d1">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
          <value name="va">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block>

        <block type = "pandas_csv_read">
          <value name="d1">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
          <value name="va">
            <block type="fileopen"></block>     
          </value>
        </block> 

        <!-- csv프레임 -->
        <block type="csvdataframe_J">
          <value name="input_var">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
          <value name="csv">
            <block type="csv2"></block>
          </value>
        </block>

        <!-- 데이터프레임 직접만들기 -->
        <block type="csvdataframe_J">
          <value name="input_var">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
          <value name="csv">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block>

        <!-- 인덱싱 -->
        <block type="pandas_indexing">
          <value name="d1">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
          <value name="LIST">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block>

        <!-- 기초 조회 -->
        <block type="pandas_head">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
        </block>

        <!-- 데이터 내용 조회-->
        <block type = "pandas_oc">
          <value name="d0">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
          <value name="d1">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block>

        <!-- items -->
        <block type = "pandas_items">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
        </block>

      <!-- 비어있는지 확인 -->
      <block type = "pandas_nanull">
        <value name="VAR">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
        <value name="INPUT">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>   

      <!-- where -->
      <block type="pandas_where">
        <value name="d1">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
        <value name="LIST">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <block type = "pandas_sort">
        <value name="VAR">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
        <value name="INPUT">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <!-- 행렬크기 -->
      <block type="row_count">
        <value name="select_value">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
      </block>

      <!-- 범위설정 -->
      <!-- <block type="select_row_column_value">
        <value name="select_data">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
        <value name="select_row_locate">
          <block type="selec_value_all"></block>
        </value>
        <value name="select_column_locate">
          <block type="selec_value_all"></block>
        </value>
      </block> -->

      <!-- 행렬추출 -->
      <!-- <block type="select_row_list">
        <value name="list_data">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
      </block> -->

        <!-- 전체범위 -->
        <!-- <block type="selec_value_all"></block> -->
        <!-- 부분범위 -->
        <!-- <block type="iloc_range"></block> -->

      </category>

      <!---------------------------------------------------------------------------------- 분석&집계 ---------------->
      <category name="분석&집계" colour="%{BKY_PANDAS_HUE}">
        <!-- 기본 통계 -->
        <block type="pandas_info">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
        </block>

        <!-- pandas_unique -->
        <block type="pandas_unique">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
          <value name="INPUT">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block>

        <!-- 상관 관계 -->
        <block type="pandas_corr">
          <value name="INPUT1">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
          <value name="INPUT2">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block> 

        <block type="block_sum_min">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
          <value name="INPUT">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block> 

        <block type="block_cumsum">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
          <value name="INPUT">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block> 
        
        <!-- 
        <block type="block_calculations">
          <value name="INPUT">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block> 

     <block type="groupby_dataFrame_2">
        <value name="colName">
          <block type="groupby_series_"></block>
        </value>
      </block> -->
      
      <!-- 그룹 -->
      <!-- <block type = "df_agg">
        <value name = "LIST">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block> -->
      <!-- 프레임 그룹화 -->
      <block type = "groupby_dataFrame1">
        <value name="d1">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
        <value name="d2">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <block type="pandas_apply">
        <value name="VAR">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
        <value name="INPUT">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block> 
       
      </category>

      <!----------------------------------------------------------------------------------조작가공-->
      <category name="조작&가공" colour="%{BKY_PANDAS_HUE}">
        <!-- astype -->
        <block type="pandas_astype">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
          <value name="INPUT">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block>
        <!-- <block type="pyo_lib"></block> -->
        
      <!-- 2020-09-09 양승국-->
      <!-- 일괄변경 -->
      <!-- <block type="pandas_conversion">
        <value name="pa_frm">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
        <value name="pa_cul">
          <shadow type="indata">
            <field name="indata1">name</field>
          </shadow>
        </value>
        <value name="pa_data">
          <shadow type="indata">
            <field name="indata1">null</field>
          </shadow>
        </value>
        <value name="pa_chidata">
          <shadow type="indata">
            <field name="indata1">50</field>
          </shadow>
        </value>
      </block> -->

      <!-- 결측치삽입 -->
      <!-- <block type="fill_null_data">
        <value name="DATA">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
      </block> -->

      <!-- 삭제 -->
      <block type = "pandas_drop">
        <value name="d1">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
        <value name="d2">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
        <value name="d3">
          <shadow type="indata">
            <field name="indata1">0</field>
          </shadow>
        </value>
        <value name="d4">
          <shadow type="indata">
            <field name="indata1">'columns'</field>
          </shadow>
        </value>
      </block>

      <!-- 중복값삭제 -->
      <block type = "pandas_drop_duplicates">
        <value name="d1">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
        <value name="d2">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
        <value name="d3">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <!-- 결측치삭제 -->
      <block type = "pandas_dropna">
        <value name="d1">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
        <value name="d2">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
        <value name="d3">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <!-- 결합 혹은 복사 -->
      <block type = "df_merge">
        <value name="VAR">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
        <value name="INPUT">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

        <!-- 컬럼 및 인덱스 조작 -->
        <block type = "df_reindex">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
          <value name="INPUT">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block> 

      <!-- 데이터 프레임 자체의 형태를 변환시킴 -->  
      <block type="pandas_transpose">
        <value name="d1">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
        <value name="LIST">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <!-- 피봇테이블 -->
      <block type = "pandas_pivot">
        <value name="VAR">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
        <value name="INPUT">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <!-- 가변수 -->
      <block type = "pandas_get_dummies">
        <value name="VAR">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
        <value name="INPUT">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <block type="pandas_date_range">
        <value name="VAR">
          <block type="variables_get">
            <field name="VAR">pf</field>
          </block>
        </value>
        <value name="INPUT">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>


      <block type="pandas_series_str">
        <value name="VAR">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
        <value name="INPUT">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <block type = "pandas_multiIndex">
        <value name="d1">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <block type = "pandas_stack">
        <value name="d1">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
        <value name="d2">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <block type = "pandas_cat">
        <value name="d1">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
      </block>

      <block type = "pandas_cat_set">
        <value name="d1">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
        <value name="d2">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <!-- 행열삭제 -->
      <!-- <block type="select_row_delete">
        <value name="select_data">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
      </block> -->

      

      <!-- 열 추가 -->
      <!-- <block type="df_add_col"></block> -->

      <!-- 2020-09-09 양승국 -->
      <!-- zip리스트 -->
      <!-- <block type="pandas_datalist">
        <value name="frm_var">
          <block type="variables_get">
            <field name="VAR">my_list</field>
          </block>
        </value>
        <value name="data_lst">
          <block type="createColumn"></block>
        </value>
      </block> -->
      <!-- zip 프레임 -->
      <!-- <block type="pandas_dataframe">
        <value name="df_va">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
        <value name="lst">
          <block type="variables_get">
            <field name="VAR">my_list</field>
          </block>
        </value>
      </block> -->

      <!-- 2020-10-15 정지현 컬럼명 변경 -->
      <!-- <block type="df_col_rename"></block> -->

        <!-- <block type="column_count"></block> -->
        <!-- <block type="image_list"></block> -->
        
          
        <!-- <label text="대기중"></label>

        <block type = "df_pivot_table">
          <value name="LIST">
            <shadow type="indata">
              <field name="indata1">df, values=['D', 'E'], index=['A', 'C'], aggfunc={'D': np.mean,'E': np.mean}</field>
            </shadow>
          </value>
        </block>
      -->
      </category>
      <!-------------------------------------------------------------------------------시리즈-->
      <category name="시리즈" colour="%{BKY_PANDAS_HUE}">
        
        <!-- 시리즈생성 -->
        <block type="pandas_series">
          <value name="ser_var">
            <block type="variables_get">
              <field name="VAR">sr</field>
            </block>
          </value>
          <value name="ser_data">
            <block type="pandas_series_data"></block>
          </value>
        </block>
      
        <!-- 시리즈 concat -->
        <block type="pandas_concat">
          <value name="cat_vl">
            <block type="variables_get">
              <field name="VAR">sr</field>
            </block>
          </value>
        </block>
        <!-- 2020-09-17 양승국 블록추가 -->
      
        <!-- 시리즈 merge -->
        <block type="pandas_merge">
          <value name="mer_var">
            <block type="variables_get">
              <field name="VAR">sr</field>
            </block>
          </value>
          <value name="connet_way">
            <block type="pandas_merge_oncol"></block>
          </value>
        </block>
      
        <!-- 공통컬럼0 -->
        <block type="pandas_merge_oncol"></block>
        <!-- 공통컬럼x -->
        <block type="pandas_merge_lron"></block>

        <!-- 시리즈그룹화 -->
        <block type="groupby_series">
          <value name="colName">
            <block type="groupby_series_"></block>
          </value>
        </block>
        
        <block type="df_series1">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">sr</field>
            </block>
          </value>

          <value name="LIST">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block>

        <block type="df_series2">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">sr</field>
            </block>
          </value>
          <value name="LIST">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block>

        <block type="df_series3">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">sr</field>
            </block>
          </value>
          <value name="LIST">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block>

        <block type="df_unique">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">sr</field>
            </block>
          </value>
        </block>

        <block type="df_is_in">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">sr</field>
            </block>
          </value>

          <value name="LIST">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block>

        <block type="df_tolist">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">sr</field>
            </block>
          </value>
        </block>

        <block type="df_name">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">sr</field>
            </block>
          </value>
        </block>

        <block type="df_resample">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">sr</field>
            </block>
          </value>
          <value name="LIST">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block>

        <block type="df_add_function">
          <value name="LIST">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
          <value name="LIST2">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block>
        
        
      </category>

      <!-- 2020-09-20 양승국 판다스 전체수정-->
      <!-- <block type="import_lib">
          <value name="var">
            <block type="variables_get">
              <field name="VAR"></field>
            </block>
          </value>
        </block> -->
      
      <!-- <block type="pandas_print"></block> -->
      
      <!-- <block type="save_image"></block> -->
      <!-- <block type="list"></block> -->
      <!-- <block type="header"></block> -->
      
      <!-- <block type="pandas_plus">
        <value name="pl_v">
          <block type="variables_get">
            <field name="VAR">df</field>
          </block>
        </value>
      </block> -->
      
      <!-- 2020-09-16 양승국-->
      <!-- <block type="nm"></block> -->

      <!-- <block type="pan_aray">
        <value name="aray_array">
          <block type="variables_get">
            <field name="VAR">array</field>
          </block>
        </value>
      </block> -->
    </category>
  

    <!-- ************************************************** ************************* *************************  -->
    <!-- ***************************************  맷플롯립(Matplotlib)  ******************************************  -->
    <!-- ************************************************** ************************* *************************  -->

    <!-- # 시각화 부분 #  -->
    <category name="%{BKY_CATEGORY_MATPLOT}" colour="%{BKY_VISUAL_HUE}"> 
      <category name="기본" colour="%{BKY_VISUAL_HUE}">
        <!-- 그래프 출력 -->
      <block type="visualization_library"></block>

      <block type="visualization_library_cm"></block>

      <block type="val_vi"></block>
      <!--  그래프 출력 갯수    -->
      <block type="matplotlib_main">
        <value name="matplotlib_main_cols">
          <shadow type="math_number">
            <field name="NUM">2</field>
          </shadow>
        </value>

        <value name="matplotlib_main_rows">
          <shadow type="math_number">
            <field name="NUM">2</field>
          </shadow>
        </value>
      </block>
      <!--  그래프 출력 갯수    -->


      <!--  matplot2 시각화 준비(출력설정)      -->
      <block type="matplotlib_pre_graph">
        <value name="matplotlib_pre_graph_location1">
          <shadow type="math_number">
            <field name="NUM">0</field>
          </shadow> 
        </value>
        <value name="matplotlib_pre_graph_location2">
          <shadow type="math_number">
            <field name="NUM">0</field>
          </shadow>
        </value>
        <value name="xx">
          <shadow type="indata">
            <field name="indata1">x_data</field>
          </shadow>
        </value>
        <value name="yy">
          <shadow type="indata">
            <field name="indata1">y_data</field>
          </shadow>
        </value>
        <value name="matplotlib_pre_graph_Title">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
        <value name="matplotlib_pre_graph_Xlable">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
        <value name="matplotlib_pre_graph_Ylable">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
        <value name="matplotlib_pre_legend">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
        <value name="matplotlib_pre_color">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>
      <!--  matplot2 시각화 준비      -->

      <!--  matplot3 시각화 하기      -->
      <!-- <block type="matplotlib_graph_end"></block> -->
      <!--  matplot3 시각화 하기      -->
      
      <!--  matplot plt.show()      -->
      <block type="matplotlib_plt_show"></block>
      
      <!-- 2021-01-21 그래프크기설정 양승국-->
      <block type = "matp_Ex">
        <value name="d1">
          <block type="variables_get">
            <field name="VAR">plt</field>
          </block>
        </value>
        <value name="d2">
          <shadow type="math_number">
            <field name="NUM">2</field>
          </shadow>
        </value>
        <value name="d3">
          <shadow type="math_number">
            <field name="NUM">2</field>
          </shadow>
        </value>
      </block>

      <!-- subplots -->
      <block type="subplots">
        <value name="VAR1">
          <block type="variables_get">
            <field name="VAR">plt</field>
          </block>
        </value>
        <value name="VAR2">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>
      
      <!--  matplot plt.plot()      -->
      <block type="ax_lst_plot">
        <value name="list">
          <block type="variables_get">
            <field name="VAR">plt</field>
          </block>
        </value>
          <value name="NAME">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
        </value>
      </block>
      
      <!-- title -->
      <block type = "matp_title">
        <value name="d1">
          <block type="variables_get">
            <field name="VAR">plt</field>
          </block>
        </value>
        <value name="d2">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>
  
      <!-- set_title,  legend -->
      <block type="plt_title_legend">
        <value name="list">
          <block type="variables_get">
            <field name="VAR">ax</field>
          </block>
        </value>
          <value name="NAME">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
          <value name="NAME2">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
      </block>
      <!-- label -->
      <block type="plt_xlabel_ylabel">
        <value name="list">
          <block type="variables_get">
            <field name="VAR">plt</field>
          </block>
        </value>
          <value name="NAME">
            <shadow type="indata">
              <field name="indata1">''</field>
            </shadow>
          </value>
          <value name="NAME2">
            <shadow type="indata">
              <field name="indata1">''</field>
            </shadow>
          </value>
      </block>

      <!-- label -->
      <block type="set_xlabel_ylabel">
        <value name="list">
          <block type="variables_get">
            <field name="VAR">ax</field>
          </block>
        </value>
          <value name="NAME">
            <shadow type="indata">
              <field name="indata1">''</field>
            </shadow>
          </value>
          <value name="NAME2">
            <shadow type="indata">
              <field name="indata1">''</field>
            </shadow>
          </value>
      </block>

      <block type="plt_axis">
        <value name="list">
          <block type="variables_get">
            <field name="VAR">plt</field>
          </block>
        </value>
          <value name="NAME">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
        </value>
      </block>

      <block type="plt_figure">
        <value name="list">
          <block type="variables_get">
            <field name="VAR">plt</field>
          </block>
        </value>
          <value name="NAME">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
        </value>
      </block>

      <block type = "pie_subplots_1">
        <value name="name1">
          <block type="variables_get">
            <field name="VAR">plt</field>
          </block>
        </value>
        <value name="name2">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <block type="shape">
        <value name="VAR1">
          <block type="variables_get">
            <field name="VAR">plt</field>
          </block>
        </value>
      </block>

      <!-- 2021-01-21 양승국 블럭 추가-->
      <!--  matplot plt.plot()      --> 
      <block type = "plt_ravel">
        <value name="name1">
          <block type="variables_get">
            <field name="VAR">plt</field>
          </block>
        </value>
        <value name="name2">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>
<!-- 
      <block type="set_axis_off">
        <value name="data">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
        <value name="data2">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block> -->
      <!--  matplot plt.show()      -->

      <!--  사이킷런 시각화 하기      -->
      <!-- <block type="lrgraph"></block>
      <block type="logicgraph"></block> -->
      <!-- <block type="vis_tree"></block> -->
      <!--  사이킷런 시각화 하기      -->

      </category>
    <!-- ************************************************** ************************* *************************  -->
    <!-- ***************************************  라인, 바 마커(Matplotlib)  ******************************************  -->
    <!-- ************************************************** ************************* *************************  -->
      <category name="라인,바&마커형" colour="%{BKY_VISUAL_HUE}">

        <label text="Plotting the coherence of two signals"></label>
        
          <block type="numpy_library"></block>
  
          <block type="visualization_library">
            
          </block>
  
          <block type="itdata">
            <value name="itdata1">
              <shadow type="numpy_random_generator">
                <value name="numpy_Random_generator_val">
                  <shadow type="indata">
                    <field name="indata1">19680801</field>
                </shadow>
              </value>
              </shadow>
            </value>
          </block>
          
          <block type="many_variables">
            <value name="NUMBER">
              <block type="variables_get">
                <field name="VAR">dt</field>
              </block>
            </value>
            <value name="VALUE">
              <shadow type="indata">
                <field name="indata1">0.01</field>
              </shadow>
            </value>
          </block>
  
  
          <block type="many_variables">
            <value name="NUMBER">
              <block type="variables_get">
                <field name="VAR">t</field>
              </block>
            </value>
            <value name="VALUE">
              <shadow type="numpy_numerical_ranges">
                <value name="numpy_Numerical_ranges_val">
                  <shadow type="indata">
                    <field name="indata1">0,30,dt</field>
                  </shadow>
                </value>
              </shadow>
            </value>
          </block>
  
  
          <block type="many_variables">
            <value name="NUMBER">
              <block type="variables_get">
                <field name="VAR">nse1</field>
              </block>
            </value>
            <value name="VALUE">
              <block type="numpy_random_sample__">
                <value name="numpy_Random_sample_val"> 
                  <block type="text_length">
                    <value name="VALUE">
                      <shadow type="indata">
                        <field name="indata1">t</field>
                      </shadow>
                    </value>
                  </block>
                </value>  
              </block> 
            </value>
          </block>
  
  
          <block type="many_variables">
            <value name="NUMBER">
              <block type="variables_get">
                <field name="VAR">nse2</field>
              </block>
            </value>
            <value name="VALUE">
              <block type="numpy_random_sample__">
                <value name="numpy_Random_sample_val"> 
                  <block type="text_length">
                    <value name="VALUE">
                      <shadow type="indata">
                        <field name="indata1">t</field>
                      </shadow>
                    </value>
                  </block>
                </value>  
              </block> 
            </value>
          </block>
  <!-- nse1, nse2 만들기 -->
  
          <block type="many_variables">
            <value name="NUMBER">
              <block type="variables_get">
                <field name="VAR">s1</field>
              </block>
            </value>
            <value name="VALUE">
              <block type="Oper">
                <value name="A">
                  <block type="numpy_mathematical_functions">
                    <value name="numpy_Mathematical functions_val"> 
                      <block type="Oper_garbage">
                        <value name="A">
                          <block type="np_pi"></block>
                        </value>
                        <value name="B">
                          <block type="indata">
                            <field name="indata1">2*10*t</field>
                          </block>
                        </value>
                      </block>
                    </value>   
                  </block>
                </value>
                <value name="B">
                  <block type="indata">
                    <field name="indata1">nse1</field>
                  </block>
                </value>
              </block>
            </value>
          </block>
  
  
          <block type="many_variables">
            <value name="NUMBER">
              <block type="variables_get">
                <field name="VAR">s2</field>
              </block>
            </value>
            <value name="VALUE">
              <block type="Oper">
                <value name="A">
                  <block type="numpy_mathematical_functions">
                    <value name="numpy_Mathematical functions_val"> 
                      <block type="Oper_garbage">
                        <value name="A">
                          <block type="np_pi"></block>
                        </value>
                        <value name="B">
                          <block type="indata">
                            <field name="indata1">2*10*t</field>
                          </block>
                        </value>
                      </block>
                    </value>   
                  </block>
                </value>
                <value name="B">
                  <block type="indata">
                    <field name="indata1">nse2</field>
                  </block>
                </value>
              </block>
            </value>
          </block>
  
  
          <block type="matplotlib_main">
            <value name="matplotlib_main_cols">
              <shadow type="math_number">
                <field name="NUM">2</field>
              </shadow>
            </value>
            <value name="matplotlib_main_rows">
              <shadow type="math_number">
                <field name="NUM">1</field>
              </shadow>
            </value>
          </block>
  
  
          <!-- <block type="ax_lst_plot">
            <value name="list">
              <block type = "va_sel">
                <value name="list">
                  <block type="variables_get">
                    <field name="VAR">ax</field>
                  </block>
                </value>
                <value name="dic1">
                  <shadow type="indata">
                    <field name="indata1">0</field>
                  </shadow>
                </value>
              </block>
          </value>
            <value name="NAME">
              <shadow type="indata">
                <field name="indata1">t,s1,t,s2</field>
              </shadow>
            </value>
          </block> -->
    
          <block type="set_lim">
            <value name="VAR">
              <block type = "va_sel">
                <value name="list">
                  <block type="variables_get">
                    <field name="VAR">ax</field>
                  </block>
                </value>
                <value name="dic1">
                  <shadow type="indata">
                    <field name="indata1">0</field>
                  </shadow>
                </value>
              </block>
            </value>
            <value name="INPUT1">
              <shadow type="indata">
                <field name="indata1">0,2</field>
              </shadow>
            </value>
            <value name="INPUT2">
              <shadow type="indata">
                <field name="indata1"></field>
              </shadow>
            </value>
          </block>
          
          <block type="matplotlib_pre_graph">
            <value name="matplotlib_pre_graph_location1">
              <shadow type="math_number">
                <field name="NUM">0</field>
              </shadow> 
            </value>
            <value name="matplotlib_pre_graph_location2">
              <shadow type="math_number">
                <field name="NUM">0</field>
              </shadow>
            </value>
            <value name="xx">
              <shadow type="indata">
                <field name="indata1">t,s1</field>
              </shadow>
            </value>
            <value name="yy">
              <shadow type="indata">
                <field name="indata1">t,s2</field>
              </shadow>
            </value>
            <value name="matplotlib_pre_graph_Title">
              <shadow type="indata">
                <field name="indata1"></field>
              </shadow>
            </value>
            <value name="matplotlib_pre_graph_Xlable">
              <shadow type="indata">
                <field name="indata1">time</field>
              </shadow>
            </value>
            <value name="matplotlib_pre_graph_Ylable">
              <shadow type="indata">
                <field name="indata1">s1 and s2</field>
              </shadow>
            </value>
            <value name="matplotlib_pre_legend">
              <shadow type="indata">
                <field name="indata1"></field>
              </shadow>
            </value>
            <value name="matplotlib_pre_color">
              <shadow type="indata">
                <field name="indata1"></field>
              </shadow>
            </value>
          </block>


          <!-- <block type="set_xlim">
            <value name="VAR">
              <block type = "va_sel">
                <value name="list">
                  <block type="variables_get">
                    <field name="VAR">ax</field>
                  </block>
                </value>
                <value name="dic1">
                  <shadow type="indata">
                    <field name="indata1">0</field>
                  </shadow>
                </value>
              </block>
            </value>
            <value name="INPUT1">
              <shadow type="indata">
                <field name="indata1">0,2</field>
              </shadow>
            </value>
            <value name="INPUT2">
              <shadow type="indata">
                <field name="indata1"></field>
              </shadow>
            </value>
          </block> -->
    
    
          <!-- <block type="set_xlabel">
            <value name="VAR">
              <block type = "va_sel">
                <value name="list">
                  <block type="variables_get">
                    <field name="VAR">ax</field>
                  </block>
                </value>
                <value name="dic1">
                  <shadow type="indata">
                    <field name="indata1">0</field>
                  </shadow>
                </value>
              </block>
            </value>
            <value name="INPUT">
              <shadow type="indata">
                <field name="indata1">'time'</field>
              </shadow>
            </value>
          </block>
    
    
          <block type="set_ylabel">
            <value name="VAR">
              <block type = "va_sel">
                <value name="list">
                  <block type="variables_get">
                    <field name="VAR">ax</field>
                  </block>
                </value>
                <value name="dic1">
                  <shadow type="indata">
                    <field name="indata1">0</field>
                  </shadow>
                </value>
              </block>
            </value>
            <value name="INPUT">
              <shadow type="indata">
                <field name="indata1">'s1 and s2'</field>
              </shadow>
            </value>
          </block> -->
    
    
          <block type="axs_grid">
            <value name="NAME">
              <block type = "va_sel">
                <value name="list">
                  <block type="variables_get">
                    <field name="VAR">ax</field>
                  </block>
                </value>
                <value name="dic1">
                  <shadow type="indata">
                    <field name="indata1">0</field>
                  </shadow>
                </value>
              </block>
            </value>
            <value name="val">
              <block type="logic_boolean"></block>
            </value>
          </block>
    
    
  
          <block type="many_variables">

            <value name="NUMBER">
              <shadow type="indata">
                <field name="indata1">cxy, f</field>
              </shadow>
            </value>

            <value name="VALUE">
              <block type="cohere">
                <value name="VAR">
                  <block type = "va_sel">
                    <value name="list">
                      <block type="variables_get">
                        <field name="VAR">ax</field>
                      </block>
                    </value>
                    <value name="dic1">
                      <shadow type="indata">
                        <field name="indata1">1</field>
                      </shadow>
                    </value>
                  </block>
                </value>
                <value name="INPUT">
                  <block type="Oper_garbage2">
                    <value name="A">
                      <block type="indata">
                        <field name="indata1">s1, s2, 256, 1.</field>
                      </block>
                    </value>
                    <value name="B">
                      <block type="indata">
                        <field name="indata1">dt</field>
                      </block>
                    </value>
                  </block>
                </value>
              </block>
            </value>
          </block>
  
  
          <block type="set_ylabel">
            <value name="VAR">
              <block type = "va_sel">
                <value name="list">
                  <block type="variables_get">
                    <field name="VAR">ax</field>
                  </block>
                </value>
                <value name="dic1">
                  <shadow type="indata">
                    <field name="indata1">1</field>
                  </shadow>
                </value>
              </block>
            </value>
            
            <value name="INPUT">
              <shadow type="indata">
                <field name="indata1">'coherence'</field>
              </shadow>
            </value>
          </block>
  
  
          <block type="tight_layout">
            <value name="VAR">
              <block type="variables_get">
                <field name="VAR">fig</field>
              </block>
            </value>
            <value name="INPUT">
              <shadow type="indata">
                <field name="indata1"></field>
              </shadow>
            </value>
          </block>
  
          <block type="matplotlib_plt_show"></block>
          
          <label text="Marker examples"></label>

          <block type="numpy_library"></block>
  
          <block type="visualization_library">

          </block>
  
          <block type="itdata">
            <value name="itdata1">
              <shadow type="numpy_random_generator">
                <value name="numpy_Random_generator_val">
                  <shadow type="indata">
                    <field name="indata1">19680801</field>
                </shadow>
              </value>
              </shadow>
            </value>
          </block>

          <block type="many_variables">
            <value name="NUMBER">
              <block type="variables_get">
                <field name="VAR">x</field>
              </block>
            </value>
            <value name="VALUE">
              <block type="numpy_random_sample">
                <value name="numpy_Random_sample_val"> 
                  <shadow type="math_number">
                    <field name="NUM">10</field>
                  </shadow>
                </value>  
              </block> 
            </value>
          </block>

          <block type="many_variables">
            <value name="NUMBER">
              <block type="variables_get">
                <field name="VAR">y</field>
              </block>
            </value>
            <value name="VALUE">
              <block type="numpy_random_sample">
                <value name="numpy_Random_sample_val"> 
                  <shadow type="math_number">
                    <field name="NUM">10</field>
                  </shadow>
                </value>  
              </block> 
            </value>
          </block>

          <block type="many_variables">
            <value name="NUMBER">
              <block type="variables_get">
                <field name="VAR">z</field>
              </block>
            </value>
            <value name="VALUE">
              <block type="np_sqrt">
                <value name = "val1">
                  <block type="Oper">
                    <value name="A">
                      <block type="Oper_garbage3">
                        <value name="A">
                          <block type="indata">
                            <field name="indata1">x</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="indata">
                            <field name="indata1">2</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="B">
                      <block type="Oper_garbage3">
                        <value name="A">
                          <block type="indata">
                            <field name="indata1">y</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="indata">
                            <field name="indata1">2</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
              </block>
            </value>
          </block>

          <block type="many_variables">
            <value name="NUMBER">
              <block type="indata">
                <field name="indata1">fig, ax</field>
              </block>
            </value>
            <value name="VALUE">
              <block type="subplots">
                <value name="VAR1">
                  <block type="variables_get">
                    <field name="VAR">plt</field>
                  </block>
                </value>
                <value name="VAR2">
                  <shadow type="indata">
                    <field name="indata1">2, 3, sharex=True, sharey=True</field>
                  </shadow>
                </value>
              </block>
              </value> 
            </block>


          <!-- 0,0 그래프 -->

          <block type="scatter_ex">
            <value name = "v1">
              <shadow type="math_number">
                <field name="NUM">0</field>
              </shadow>
            </value>
            <value name = "v2">
              <shadow type="math_number">
                <field name="NUM">0</field>
              </shadow>
            </value>

            <value name = "x1">
              <shadow type="indata">
                <field name="indata1">x</field>
              </shadow>
            </value>

            <value name = "y1">
              <shadow type="indata">
                <field name="indata1">y</field>
              </shadow>
            </value>
            <value name = "title">
              <shadow type="indata">
                <field name="indata1">"marker='>'"</field>
              </shadow>
            </value>
            <value name = "s">
              <shadow type="indata">
                <field name="indata1">80</field>
              </shadow>
            </value>
            <value name = "c">
              <shadow type="indata">
                <field name="indata1">z</field>
              </shadow>
            </value>
            <value name = "marker">
              <shadow type="indata">
                <field name="indata1">">"</field>
              </shadow>
            </value>
          </block>
          
          <!-- 0,1 그래프 -->
          <block type="scatter_ex">
            <value name = "v1">
              <shadow type="math_number">
                <field name="NUM">0</field>
              </shadow>
            </value>
            <value name = "v2">
              <shadow type="math_number">
                <field name="NUM">1</field>
              </shadow>
            </value>

            <value name = "x1">
              <shadow type="indata">
                <field name="indata1">x</field>
              </shadow>
            </value>

            <value name = "y1">
              <shadow type="indata">
                <field name="indata1">y</field>
              </shadow>
            </value>
            <value name = "title">
              <shadow type="indata">
                <field name="indata1">r"marker=r'\$\alpha\$'"</field>
              </shadow>
            </value>
            <value name = "s">
              <shadow type="indata">
                <field name="indata1">80</field>
              </shadow>
            </value>
            <value name = "c">
              <shadow type="indata">
                <field name="indata1">z</field>
              </shadow>
            </value>
            <value name = "marker">
              <shadow type="indata">
                <field name="indata1">r'$\alpha$'</field>
              </shadow>
            </value>
          </block>

          <block type = "create_list">
            <value name="list">
              <block type="variables_get">
                <field name="VAR">verts</field>
              </block>
            </value>
            <value name="text">
              <shadow type="indata">
                <field name="indata1">[-1, -1], [1, -1], [1, 1], [-1, -1]</field>
              </shadow>
            </value>
          </block>

          <!-- 0,2 그래프 -->
          <block type="scatter_ex">
            <value name = "v1">
              <shadow type="math_number">
                <field name="NUM">0</field>
              </shadow>
            </value>
            <value name = "v2">
              <shadow type="math_number">
                <field name="NUM">2</field>
              </shadow>
            </value>

            <value name = "x1">
              <shadow type="indata">
                <field name="indata1">x</field>
              </shadow>
            </value>

            <value name = "y1">
              <shadow type="indata">
                <field name="indata1">y</field>
              </shadow>
            </value>
            <value name = "title">
              <shadow type="indata">
                <field name="indata1">"marker=verts"</field>
              </shadow>
            </value>
            <value name = "s">
              <shadow type="indata">
                <field name="indata1">80</field>
              </shadow>
            </value>
            <value name = "c">
              <shadow type="indata">
                <field name="indata1">z</field>
              </shadow>
            </value>
            <value name = "marker">
              <shadow type="indata">
                <field name="indata1">verts</field>
              </shadow>
            </value>
          </block>

          <!-- 1,0 그래프 -->
          <block type="scatter_ex">
            <value name = "v1">
              <shadow type="math_number">
                <field name="NUM">1</field>
              </shadow>
            </value>
            <value name = "v2">
              <shadow type="math_number">
                <field name="NUM">0</field>
              </shadow>
            </value>

            <value name = "x1">
              <shadow type="indata">
                <field name="indata1">x</field>
              </shadow>
            </value>

            <value name = "y1">
              <shadow type="indata">
                <field name="indata1">y</field>
              </shadow>
            </value>
            <value name = "title">
              <shadow type="indata">
                <field name="indata1">"marker=(5, 0)"</field>
              </shadow>
            </value>
            <value name = "s">
              <shadow type="indata">
                <field name="indata1">80</field>
              </shadow>
            </value>
            <value name = "c">
              <shadow type="indata">
                <field name="indata1">z</field>
              </shadow>
            </value>
            <value name = "marker">
              <shadow type="indata">
                <field name="indata1">(5, 0)</field>
              </shadow>
            </value>
          </block>

          <!-- 1,1 그래프 -->
          <block type="scatter_ex">
            <value name = "v1">
              <shadow type="math_number">
                <field name="NUM">1</field>
              </shadow>
            </value>
            <value name = "v2">
              <shadow type="math_number">
                <field name="NUM">1</field>
              </shadow>
            </value>

            <value name = "x1">
              <shadow type="indata">
                <field name="indata1">x</field>
              </shadow>
            </value>

            <value name = "y1">
              <shadow type="indata">
                <field name="indata1">y</field>
              </shadow>
            </value>
            <value name = "title">
              <shadow type="indata">
                <field name="indata1">"marker=(5, 1)"</field>
              </shadow>
            </value>
            <value name = "s">
              <shadow type="indata">
                <field name="indata1">80</field>
              </shadow>
            </value>
            <value name = "c">
              <shadow type="indata">
                <field name="indata1">z</field>
              </shadow>
            </value>
            <value name = "marker">
              <shadow type="indata">
                <field name="indata1">(5, 1)</field>
              </shadow>
            </value>
          </block>

          <!-- 1,2 그래프 -->
          <block type="scatter_ex">
            <value name = "v1">
              <shadow type="math_number">
                <field name="NUM">1</field>
              </shadow>
            </value>
            <value name = "v2">
              <shadow type="math_number">
                <field name="NUM">2</field>
              </shadow>
            </value>

            <value name = "x1">
              <shadow type="indata">
                <field name="indata1">x</field>
              </shadow>
            </value>

            <value name = "y1">
              <shadow type="indata">
                <field name="indata1">y</field>
              </shadow>
            </value>
            <value name = "title">
              <shadow type="indata">
                <field name="indata1">"marker=(5, 2)"</field>
              </shadow>
            </value>
            <value name = "s">
              <shadow type="indata">
                <field name="indata1">80</field>
              </shadow>
            </value>
            <value name = "c">
              <shadow type="indata">
                <field name="indata1">z</field>
              </shadow>
            </value>
            <value name = "marker">
              <shadow type="indata">
                <field name="indata1">(5, 2)</field>
              </shadow>
            </value>
          </block>
        
          <block type="tight_layout">
            <value name="VAR">
              <block type="variables_get">
                <field name="VAR">plt</field>
              </block>
            </value>
            <value name="INPUT">
              <block type="indata">
                <field name="indata1"></field>
              </block>
            </value>
          </block>
  
          <block type="matplotlib_plt_show"></block>

          <label text="Stackplots"></label>

          <block type="numpy_library"></block>
  
          <block type="visualization_library">

          </block>

          <block type = "create_list">
            <value name="list">
              <block type="variables_get">
                <field name="VAR">year</field>
              </block>
            </value>
            <value name="text">
              <shadow type="indata">
                <field name="indata1">1950, 1960, 1970, 1980, 1990, 2000, 2010, 2018</field>
              </shadow>
            </value>
          </block>

          <block type = "create_dict">
            <value name="list">
              <block type="variables_get">
                <field name="VAR">population_by_continent</field>
              </block>
            </value>
            <value name="text">
              <shadow type="indata">
                <field name="indata1">'africa': [228, 284, 365, 477, 631, 814, 1044, 1275], 'americas': [340, 425, 519, 619, 727, 840, 943, 1006], 'asia': [1394, 1686, 2120, 2625, 3202, 3714, 4169, 4560], 'europe': [220, 253, 276, 295, 310, 303, 294, 293], 'oceania': [12, 15, 19, 22, 26, 31, 36, 39],</field>
              </shadow>
            </value>
          </block>

          <block type = "many_variables">
            <value name="NUMBER"><shadow type="indata"><field name="indata1">fig, ax</field></shadow></value>
            <value name="VALUE"><block type = "pie_subplots"></block></value>
          </block>

          <block type="ax_stackplot">
            <value name="list_val">
              <block type="variables_get">
                <field name="VAR">year</field>
              </block>
            </value>
            <value name="dic_val">
              <block type ="dic_menu1_sj2">
              </block>
            </value>

            <value name="dic_key">
              <block type ="dic_menu1_sj">
              </block>
            </value>
          </block>

          <block type="plt_title_legend">
            <value name="list">
              <block type="variables_get">
                <field name="VAR">ax</field>
              </block>
            </value>
              <value name="NAME">
                <shadow type="indata">
                  <field name="indata1">'World population'</field>
                </shadow>
              </value>
              <value name="NAME2">
                <shadow type="indata">
                  <field name="indata1">loc='upper left'</field>
                </shadow>
              </value>
          </block>

          <block type="set_xlabel_ylabel">
            <value name="list">
              <block type="variables_get">
                <field name="VAR">ax</field>
              </block>
            </value>
              <value name="NAME">
                <shadow type="indata">
                  <field name="indata1">'Year'</field>
                </shadow>
              </value>
              <value name="NAME2">
                <shadow type="indata">
                  <field name="indata1">'Number of people (millions)'</field>
                </shadow>
              </value>
          </block>


          <block type="matplotlib_plt_show"></block>

      </category>
      <!-- ************************************************** ************************* *************************  -->
    <!-- ***************************************  이미지 필드(Matplotlib)  ******************************************  -->
    <!-- ************************************************** ************************* *************************  -->
    <category name="이미지,필드형" colour="%{BKY_VISUAL_HUE}">

      <!--Creating annotated heatmaps-->
      <label text="Creating annotated heatmaps"></label>
      
      <!--라이브러리-->
      <block type="numpy_library"></block>
      <block type="visualization_library_1"></block>
      
      <block type = "create_list_1">
        <value name="text">
          <shadow type="indata">
            <field name="indata1">"cucumber", "tomato", "lettuce", "asparagus","potato", "wheat", "barley"</field>
          </shadow>
        </value>
      </block>

      <block type = "create_list_2">
        <value name="text">
          <shadow type="indata">
            <field name="indata1">"Farmer Joe", "Upland Bros.", "Smith Gardening","Agrifun", "Organiculture", "BioGoods Ltd.", "Cornylee Corp."</field>
          </shadow>
        </value>
      </block>

      <block type = "create_np_array_1">
        <value name="text">
          <shadow type="indata">
            <field name="indata1">[0.8, 2.4, 2.5, 3.9, 0.0, 4.0, 0.0],
              [2.4, 0.0, 4.0, 1.0, 2.7, 0.0, 0.0],
              [1.1, 2.4, 0.8, 4.3, 1.9, 4.4, 0.0],
              [0.6, 0.0, 0.3, 0.0, 3.1, 0.0, 0.0],
              [0.7, 1.7, 0.6, 2.6, 2.2, 6.2, 0.0],
              [1.3, 1.2, 0.0, 0.0, 0.0, 3.2, 5.1],
              [0.1, 2.0, 0.0, 1.4, 0.0, 1.9, 6.3]</field>
          </shadow>
        </value>
      </block>

      <block type = "many_variables">
        <value name="NUMBER"><shadow type="indata"><field name="indata1">fig, ax</field></shadow></value>
        <value name="VALUE">
          <block type = "plt_subplots">
            <value name="name">
              <block type="variables_get">
                <field name="VAR">plt</field>
              </block>
            </value>
            <value name="name2"><shadow type="indata"><field name="indata1"> </field></shadow></value>
          </block>
        </value>
      </block>


      <block type = "many_variables">
        <value name="NUMBER">
          <block type="variables_get">
            <field name="VAR">im</field>
          </block>
        </value>
        <value name="VALUE"><block type = "pie_subplots_1">
          <value name="name1">
            <block type="variables_get">
              <field name="VAR">ax</field>
            </block>
          </value>
          <value name="name2">
            <shadow type="indata">
              <field name="indata1">harvest</field>
            </shadow>
          </value>
        </block></value>
      </block>

      <block type = "set_xyticks">
        <value name="VAR">
          <block type="variables_get">
            <field name="VAR">ax</field>
          </block>
        </value>
        <value name="INPUT">
          <block type="numpy_numerical_ranges">
            <value name="numpy_Numerical_ranges_val"> 
              <block type="text_length">
                <value name="VALUE">
                  <shadow type="indata">
                    <field name="indata1">farmers</field>
                  </shadow>
                </value>
              </block>
            </value>  
          </block> 
        </value>
        <value name="INPUT2">
          <block type="numpy_numerical_ranges">
            <value name="numpy_Numerical_ranges_val"> 
              <block type="text_length">
                <value name="VALUE">
                  <shadow type="indata">
                    <field name="indata1">vegetables</field>
                  </shadow>
                </value>
              </block>
            </value>  
          </block> 
        </value>
      </block>
<!--
      <block type = "set_xticks">
        <value name="NUMBER"><block type="variables_get">
          <field name="VAR">ax</field>
        </block></value>
        <value name="REAL_VALUE">
          <block type="numpy_numerical_ranges">
            <value name="numpy_Numerical_ranges_val"> 
              <block type="text_length">
                <value name="VALUE">
                  <shadow type="indata">
                    <field name="indata1">farmers</field>
                  </shadow>
                </value>
              </block>
            </value>  
          </block> 
        </value>
      </block>

      <block type = "set_yticks">
        <value name="NUMBER">
          <block type="variables_get">
            <field name="VAR">ax</field>
          </block>
        </value>
        <value name="REAL_VALUE">
          <block type="numpy_numerical_ranges">
            <value name="numpy_Numerical_ranges_val"> 
              <block type="text_length">
                <value name="VALUE">
                  <shadow type="indata">
                    <field name="indata1">vegetables</field>
                  </shadow>
                </value>
              </block>
            </value>  
          </block> 
        </value>
      </block>

      <block type="set_xyticks">
        <value name="x_data">
          <block type="variables_get">
            <field name="VAR">x_data</field>
          </block>
        </value>
        <value name="y_data">
          <block type="variables_get">
            <field name="VAR">y_data</field>
          </block>
        </value>
        <value name="x_train">
          <block type="variables_get">
            <field name="VAR">x_train</field>
          </block>
        </value>
        <value name="x_test">
          <block type="variables_get">
            <field name="VAR">x_test</field>
          </block>
        </value>
        <value name="y_train">
          <block type="variables_get">
            <field name="VAR">y_train</field>
          </block>
        </value>
        <value name="y_test">
          <block type="variables_get">
            <field name="VAR">y_test</field>
          </block>
        </value>
        <value name = "test_size">
          <shadow type="indata">
            <field name="indata1">0.2</field>
          </shadow>
        </value>
        <value name = "seed">
          <shadow type="indata">
            <field name="indata1">0</field>
          </shadow>
        </value>
      </block>
    -->
      <block type="set_xyticklabels">
        <value name="VAR">
          <block type="variables_get">
            <field name="VAR">ax</field>
          </block>
        </value>
        <value name="INPUT">
          <shadow type="indata"><field name="indata1">farmers</field></shadow>
        </value>
        <value name="INPUT2">
          <shadow type="indata"><field name="indata1">vegetables</field></shadow>
        </value>
      </block>
<!--
      <block type="set_xticklabels">
        <value name="VAR">
          <block type="variables_get">
            <field name="VAR">ax</field>
          </block>
        </value>
        <value name="INPUT">
          <shadow type="indata"><field name="indata1">farmers</field></shadow>
        </value>
      </block>

      <block type="set_yticklabels">
        <value name="VAR">
          <block type="variables_get">
            <field name="VAR">ax</field>
          </block>
        </value>
        <value name="INPUT">
          <shadow type="indata"><field name="indata1">vegetables</field></shadow>
        </value>
      </block>
    -->
      <block type = "plt_setp">
        <value name="REAL_VALUE_0">
          <block type="variables_get">
            <field name="VAR">plt</field>
          </block>
        </value>
        <value name="REAL_VALUE">
          <block type = "pie_subplots_2">
            <value name="name1">
              <block type="variables_get">
                <field name="VAR">ax</field>
              </block>
            </value>
          </block>
        </value>
        <value name="REAL_VALUE_2"><shadow type="indata"><field name="indata1">rotation=45, ha="right", rotation_mode="anchor"</field></shadow></value>
      </block>

      <!-- for 문 1 -->
    <block type="py_for1">
      <value name="item">
        <block type="variables_get">
          <field name="VAR">i</field>
        </block>
      </value>
      <value name="list">
        <block type="text_length">
          <value name="VALUE">
            <shadow type="indata">
              <field name="indata1">vegetables</field>
            </shadow>
          </value>
        </block>
      </value>
    </block>

     <!-- for 문 1 -->
     <block type="py_for1">
      <value name="item">
        <block type="variables_get">
          <field name="VAR">j</field>
        </block>
      </value>
      <value name="list">
        <block type="text_length">
          <value name="VALUE">
            <shadow type="indata">
              <field name="indata1">farmers</field>
            </shadow>
          </value>
        </block>
      </value>
    </block>

    <block type = "many_variables">
      <value name="NUMBER">
        <block type="variables_get">
          <field name="VAR">text</field>
        </block>
      </value>
      <value name="VALUE">
        <block type = "plt_text">
          <value name="name1">
            <block type="variables_get">
              <field name="VAR">ax</field>
            </block>
          </value>
          <value name="name2">
            <shadow type="indata">
              <field name="indata1">j, i, harvest[i, j], ha="center", va="center", color="w"</field>
            </shadow>
          </value>  
        </block>
      </value>
    </block>

    <block type="set_title">
      <value name="VAR">
        <block type="variables_get">
          <field name="VAR">ax</field>
        </block>
      </value>
      <value name="INPUT">
        <shadow type="indata"><field name="indata1">"Harvest of local farmers (in tons/year)"</field></shadow>
      </value>
    </block>

    <block type="tight_layout">
      <value name="VAR">
        <block type="variables_get">
          <field name="VAR">fig</field>
        </block>
      </value>
      <value name="INPUT">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <block type="matplotlib_plt_show"></block>
    

     


    <label text="Pcolor Demo"></label>

    <block type="numpy_library"></block>
    <block type="visualization_library_2"></block>

    <block type="numpy_random_generator_1">
      <value name="numpy_Random_generator_val"> 
        <shadow type="indata">
          <field name="indata1">19680801</field>
        </shadow>
      </value>  
    </block> 

    <block type = "many_variables">
      <value name="NUMBER">
        <block type="variables_get">
          <field name="VAR">z</field>
        </block>
      </value>
      <value name="VALUE">
        <block type="numpy_random_sample">
          <value name="numpy_Random_sample_val"> 
            <shadow type="indata">
              <field name="indata1">6, 10</field>
            </shadow>
          </value>  
        </block> 
      </value>
    </block>

    <block type = "many_variables">
      <value name="NUMBER"><shadow type="indata"><field name="indata1">fig, (ax0, ax1)</field></shadow></value>
      <value name="VALUE">
        <block type = "plt_subplots">
          <value name="name">
            <block type="variables_get">
              <field name="VAR">plt</field>
            </block>
          </value>
          <value name="name2"><shadow type="indata"><field name="indata1">2, 1</field></shadow></value>
        </block>
      </value>
    </block>

    <block type = "many_variables">
      <value name="NUMBER">
        <block type="variables_get">
          <field name="VAR">c</field>
        </block>
      </value>
      <value name="VALUE">
        <block type = "pie_pcolor">
          <value name="name1">
            <block type="variables_get">
              <field name="VAR">ax0</field>
            </block>
          </value>
          <value name="name2">
            <shadow type="indata">
              <field name="indata1">z</field>
            </shadow>
          </value>
        </block>
      </value>
    </block>

    <block type="set_title">
      <value name="VAR">
        <block type="variables_get">
          <field name="VAR">ax0</field>
        </block>
      </value>
      <value name="INPUT">
        <shadow type="indata"><field name="indata1">'default: no edges'</field></shadow>
      </value>
    </block>

    <block type = "many_variables">
      <value name="NUMBER">
        <block type="variables_get">
          <field name="VAR">c</field>
        </block>
      </value>
      <value name="VALUE">
        <block type = "pie_pcolor">
          <value name="name1">
            <block type="variables_get">
              <field name="VAR">ax1</field>
            </block>
          </value>
          <value name="name2">
            <shadow type="indata">
              <field name="indata1">z, edgecolors='k', linewidths=4</field>
            </shadow>
          </value>
        </block>
      </value>
    </block>

    <block type="set_title">
      <value name="VAR">
        <block type="variables_get">
          <field name="VAR">ax1</field>
        </block>
      </value>
      <value name="INPUT">
        <shadow type="indata"><field name="indata1">'thick edges'</field></shadow>
      </value>
    </block>

    <block type="tight_layout">
      <value name="VAR">
        <block type="variables_get">
          <field name="VAR">fig</field>
        </block>
      </value>
      <value name="INPUT">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <block type="matplotlib_plt_show"></block>

    </category>
    <!-- ************************************************** ************************* *************************  -->
    <!-- ***************************************  서브플롯형(Matplotlib)  ******************************************  -->
    <!-- ************************************************** ************************* *************************  -->
      <category name="서브플롯형" colour="%{BKY_VISUAL_HUE}">
        <label text="Zoom region inset axes"></label>
        <!-- Zoom region inset axes -->
        <block type="numpy_library"></block>
        <block type="cbook_import"></block>

        <block type="visualization_library">
        </block>
        
        <block type="webdefine">
          <value name="1">
            <block type="variables_get">
              <field name="VAR">get_demo_img</field>
            </block>
          </value>  
          <value name="2">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block>

        <block type = "many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">z</field>
            </block>
          </value>
          <value name="VALUE">
            <block type="get_sample_data">
              <value name="INPUT">
                <shadow type="indata">
                  <field name="indata1">axes_grid/bivariate_normal.npy</field>
                </shadow>
              </value>
            </block>
          </value>
        </block>
        
        <block type="webreturn2">
        <value name="return">
          <shadow type="indata">
            <field name="indata1">z, (-3,4,-4,3)</field>
          </shadow>
        </value>
        </block> 

        <block type = "many_variables">
          <value name="NUMBER"><shadow type="indata"><field name="indata1">fig,ax</field></shadow></value>
          <value name="VALUE">
            <block type="subplots">
              <value name="VAR1">
                <block type="variables_get">
                  <field name="VAR">plt</field>
                </block>
              </value>
              <value name="VAR2">
                <shadow type="indata">
                  <field name="indata1">figsize=[5, 4]</field>
                </shadow>
              </value>
            </block>
          </value>
        </block>

        <block type = "many_variables">
          <value name="NUMBER"><shadow type="indata"><field name="indata1">Z,extent</field></shadow></value>
          <value name="VALUE">
            <block type="func_return11">
            <value name="1">
              <block type="variables_get">
                <field name="VAR">get_demo_img</field>
              </block>
            </value> 
            </block>
          </value>
        </block>
        <!-- 지원 -->
        <block type = "many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">Z2</field>
            </block>
          </value>
          <value name="VALUE">
            <block type="numpy_ones_and_zeros">
              <value name="numpy_Ones and zeros_val"> 
                <shadow type="indata">
                  <field name="indata1">(150,150)</field>
                </shadow>
              </value>  
            </block> 
          </value>
        </block>

        <block type="many_variables">
          <value name="NUMBER"><shadow type="indata"><field name="indata1">ny, nx</field></shadow></value>
          <value name="VALUE">
            <block type="shape">
              <value name="VAR1">
                <block type="variables_get">
                  <field name="VAR">Z</field>
                </block>
              </value>
            </block>
          </value>
        </block>

        <block type = "many_variables">
          <value name="NUMBER"><shadow type="indata"><field name="indata1">Z2[30:30+ny, 30:30+nx]</field></shadow></value>
          <value name="VALUE">
            <block type="variables_get">
              <field name="VAR">Z</field>
            </block>
          </value>
        </block>
        <!-- 밑에 imshow 임 -->
        <block type="itdata">
          <value name="itdata1">
            <block type = "pie_subplots_1">
              <value name="name1">
                <block type="variables_get">
                  <field name="VAR">ax</field>
                </block>
              </value>
              <value name="name2">
                <shadow type="indata">
                  <field name="indata1">Z2, extent=extent, origin="lower"</field>
                </shadow>
              </value>
            </block>
          </value>
        </block>

        <block type="many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">axins</field>
            </block>
          </value>
          <value name="VALUE">
            <block type="set_inset_axes">
            <value name="VAR">
              <block type="variables_get">
                <field name="VAR">ax</field>
              </block>
            </value>
            <value name="INPUT"><shadow type="indata"><field name="indata1">[0.5, 0.5, 0.47, 0.47]</field></shadow></value>
          </block>
          </value>
        </block>

        <block type="itdata">
          <value name="itdata1">
            <block type="pie_subplots_1">
              <value name="name1">
                <block type="variables_get">
                  <field name="VAR">axins</field>
                </block>
              </value>
              <value name="name2">
                <shadow type="indata">
                  <field name="indata1">Z2, extent=extent, origin="lower"</field>
                </shadow>
              </value>
            </block>
          </value>
        </block>

        <!-- imshow 들어가야됨 -->
        <block type = "many_variables">
          <value name="NUMBER"><shadow type="indata"><field name="indata1">x1, x2, y1, y2</field></shadow></value>
          <value name="VALUE"><shadow type="indata"><field name="indata1">-1.5, -0.9, -2.5, -1.9</field></shadow></value>
        </block>

        <block type="set_lim">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">axins</field>
            </block>
          </value>
          <value name="INPUT1">
            <shadow type="indata"><field name="indata1">x1, x2</field></shadow>
          </value>
          <value name="INPUT2">
            <shadow type="indata"><field name="indata1">y1, y2</field></shadow>
          </value>
        </block>
        
        <block type="set_xyticklabels">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">axins</field>
            </block>
          </value>
          <value name="INPUT">
            <shadow type="indata"><field name="indata1">''</field></shadow>
          </value>
          <value name="INPUT2">
            <shadow type="indata"><field name="indata1">''</field></shadow>
          </value>
        </block>

        

        <block type="indicate_inset_zoom">
          <value name="VAR1">
            <block type="variables_get">
              <field name="VAR">ax</field>
            </block>
          </value>
          <value name="VAR2">
            <block type="variables_get">
              <field name="VAR">axins</field>
            </block>
          </value>
        </block>

        <block type="matplotlib_plt_show"></block>



        <!--Plots with different scales-->
    <label text="Plots with different scales"></label>
    <block type="numpy_library"></block>
    <block type="visualization_library_1"></block>

    <block type = "many_variables">
      <value name="NUMBER">
        <block type="variables_get">
          <field name="VAR">t</field>
        </block>
      </value>
      <value name="VALUE">
        <block type="numpy_numerical_ranges">
          <value name="numpy_Numerical_ranges_val"> 
            <shadow type="indata"><field name="indata1">0.01, 10.0, 0.01</field></shadow>
          </value>  
        </block> 
      </value>
    </block>

    <block type = "many_variables">
      <value name="NUMBER">
        <block type="variables_get">
          <field name="VAR">data1</field>
        </block>
      </value>
      <value name="VALUE">
        <block type="numpy_exp">
          <value name="numpy_exp_num"> 
            <shadow type="indata"><field name="indata1">t</field></shadow>
          </value>
        </block>
      </value>
    </block>

    <block type = "many_variables">
      <value name="NUMBER">
        <block type="variables_get">
          <field name="VAR">data2</field>
        </block>
      </value>
      <value name="VALUE">
        <block type="numpy_mathematical_functions">
          <value name="numpy_Mathematical functions_val"> 
            <shadow type="indata"><field name="indata1">2 * np.pi * t</field></shadow>
          </value>   
        </block> 
      </value>
    </block>
    
    <block type = "many_variables">
      <value name="NUMBER"><shadow type="indata"><field name="indata1">fig, ax1</field></shadow></value>
      <value name="VALUE">
        <block type = "plt_subplots">
          <value name="name">
            <block type="variables_get">
              <field name="VAR">plt</field>
            </block>
          </value>
          <value name="name2"><shadow type="indata"><field name="indata1"> </field></shadow></value>
        </block>
      </value>
    </block>

    <block type = "many_variables">
      <value name="NUMBER">
        <block type="variables_get">
          <field name="VAR">color</field>
        </block>
      </value>
      <value name="VALUE"><shadow type="indata"><field name="indata1">'tab:red'</field></shadow></value>
    </block>

    <block type="set_xlabel_ylabel">
      <value name="list">
        <block type="variables_get">
          <field name="VAR">ax1</field>
        </block>
      </value>
        <value name="NAME">
          <shadow type="indata">
            <field name="indata1">'time (s)'</field>
          </shadow>
        </value>
        <value name="NAME2">
          <shadow type="indata">
            <field name="indata1">'exp', color=color</field>
          </shadow>
        </value>
    </block>

    <block type="ax_lst_plot">
      <value name="list">
        <block type="variables_get">
          <field name="VAR">ax1</field>
        </block>
    </value>
      <value name="NAME">
        <shadow type="indata"><field name="indata1">t, data1, color=color</field></shadow>
      </value>
    </block>

    <block type = "tick_params">
      <value name="NUMBER">
        <block type="variables_get">
          <field name="VAR">ax1</field>
        </block>
      </value>
      <value name="REAL_VALUE"><shadow type="indata"><field name="indata1">axis='y', labelcolor=color</field></shadow></value>
    </block>

    <block type = "many_variables">
      <value name="NUMBER">
        <block type="variables_get">
          <field name="VAR">ax2</field>
        </block>
      </value>
      <value name="VALUE">
        <block type = "twinx">
          <value name="name1">
            <block type="variables_get">
              <field name="VAR">ax1</field>
            </block>
          </value>
        </block>
      </value>
    </block>
    
    <block type = "many_variables">
      <value name="NUMBER">
        <block type="variables_get">
          <field name="VAR">color</field>
        </block>
      </value>
      <value name="VALUE"><shadow type="indata"><field name="indata1">'tab:blue'</field></shadow></value>
    </block>

    <block type="set_xlabel_ylabel">
      <value name="list">
        <block type="variables_get">
          <field name="VAR">ax2</field>
        </block>
      </value>
        <value name="NAME">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
        <value name="NAME2">
          <shadow type="indata">
            <field name="indata1">'sin', color=color</field>
          </shadow>
        </value>
    </block>

    <block type="ax_lst_plot">
      <value name="list">
        <block type="variables_get">
          <field name="VAR">ax2</field>
        </block>
    </value>
      <value name="NAME">
        <shadow type="indata"><field name="indata1">t, data2, color=color</field></shadow>
      </value>
    </block>

    <block type = "tick_params">
      <value name="NUMBER">
        <block type="variables_get">
          <field name="VAR">ax2</field>
        </block>
      </value>
      <value name="REAL_VALUE"><shadow type="indata"><field name="indata1">axis='y', labelcolor=color</field></shadow></value>
    </block>

    <block type="tight_layout">
      <value name="VAR">
        <block type="variables_get">
          <field name="VAR">fig</field>
        </block>
      </value>
      <value name="INPUT">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <block type="matplotlib_plt_show"></block>

      </category>

  <!-- ************************************************** ************************* *************************  -->
  <!-- ***************************************  통계형 (Matplotlib)  ******************************************  -->
  <!-- ************************************************** ************************* *************************  -->
      <category name="통계형" colour="%{BKY_VISUAL_HUE}">
        <label text="Box plots with custom fill colors"></label>

        <block type="numpy_library"></block>
        <block type="visualization_library">

        </block>
        
        <block type="itdata">
          <value name="itdata1">
            <block type="numpy_random_generator">
              <value name="numpy_Random_generator_val"> 
                <shadow type="indata">
                  <field name="indata1">19680801</field>
                </shadow>
              </value>  
            </block> 
          </value>
        </block>
        
        <block type="many_variables">
          <value name="NUMBER">
              <block type="variables_get">
                <field name="VAR">all_data</field>
              </block>
          </value>
          <value name="VALUE">
            <shadow type="indata"><field name="indata1">[np.random.normal(0, std, size=100) for std in range(1, 4)]</field></shadow>
          </value>
        </block>
        
        <block type = "create_list">
          <value name="list">
            <block type="variables_get">
              <field name="VAR">labels</field>
            </block>
          </value>  
          <value name="text">
            <shadow type="indata">
              <field name="indata1">'x1', 'x2', 'x3'</field>
            </shadow>
          </value>
        </block>

        <block type="many_variables">
          <value name="NUMBER">
            <shadow type="indata"><field name="indata1">fig, (ax1, ax2)</field></shadow>
          </value>
          <value name="VALUE">
            <block type="subplots">
              <value name="VAR1">
                <block type="variables_get">
                  <field name="VAR">plt</field>
                </block>
              </value>
              <value name="VAR2">
                <shadow type="indata">
                  <field name="indata1">nrows=1, ncols=2, figsize=(9, 4)</field>
                </shadow>
              </value>
            </block>
          </value>
        </block>

        <block type="many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">bplot1</field>
            </block>
          </value>
          <value name="VALUE">
            <block type="boxplot">
              <value name="VAR">
                <block type="variables_get">
                  <field name="VAR">ax1</field>
                </block>
              </value>
              <value name="INPUT">
                <shadow type="indata"><field name="indata1">all_data, vert=True, patch_artist=True, labels=labels</field></shadow>
              </value>
            </block>
          </value>
        </block>

        <block type="set_title">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">ax1</field>
            </block>
          </value>
          <value name="INPUT">
            <shadow type="indata"><field name="indata1">'Rectangular box plot'</field></shadow>
          </value>
        </block>

        <block type="many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">bplot2</field>
            </block>
          </value>
          <value name="VALUE">
            <block type="boxplot">
              <value name="VAR">
                <block type="variables_get">
                  <field name="VAR">ax2</field>
                </block>
              </value>
              <value name="INPUT">
                <shadow type="indata"><field name="indata1">all_data,notch=True,vert=True,patch_artist=True,labels=labels</field></shadow>
              </value>
            </block>
          </value>
        </block>

        <block type="set_title">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">ax2</field>
            </block>
          </value>
          <value name="INPUT">
            <shadow type="indata"><field name="indata1">'Notched box plot'</field></shadow>
          </value>
        </block>

        <block type = "create_list">
          <value name="list">
            <block type="variables_get">
              <field name="VAR">colors</field>
            </block>
          </value>  
          <value name="text">
            <shadow type="indata">
              <field name="indata1">'pink', 'lightblue', 'lightgreen'</field>
            </shadow>
          </value>
        </block>

        <block type="py_for">
          <value name="item">
            <shadow type="indata">
              <field name="indata1">bplot</field>
            </shadow>
          </value>
          <value name="list">
            <shadow type="indata">
              <field name="indata1">(bplot1, bplot2)</field>
            </shadow>
          </value>
        </block>

        <block type="py_for">
          <value name="item">
            <shadow type="indata">
              <field name="indata1">patch, color</field>
            </shadow>
          </value>
          <value name="list">
            <shadow type="indata">
              <field name="indata1">zip(bplot['boxes'], colors)</field>
            </shadow>
          </value>
        </block>

        <block type="set_facecolor">
          <value name="VAR1">
            <block type="variables_get">
              <field name="VAR">patch</field>
            </block>
          </value>
          <value name="VAR2">
            <block type="variables_get">
              <field name="VAR">color</field>
            </block>
          </value>
        </block>

        <block type="py_for">
          <value name="item">
            <shadow type="indata">
              <field name="indata1">ax</field>
            </shadow>
          </value>
          <value name="list">
            <shadow type="indata">
              <field name="indata1">[ax1, ax2]</field>
            </shadow>
          </value>
        </block>

        <block type="yaxis_grid">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">ax</field>
            </block>
          </value>
          <value name="INPUT">
            <shadow type="indata"><field name="indata1">True</field></shadow>
          </value>
        </block>

        <block type="set_xlabel_ylabel">
          <value name="list">
            <block type="variables_get">
              <field name="VAR">ax</field>
            </block>
          </value>
            <value name="NAME">
              <shadow type="indata">
                <field name="indata1">'Three separate samples'</field>
              </shadow>
            </value>
            <value name="NAME2">
              <shadow type="indata">
                <field name="indata1">'Observed values'</field>
              </shadow>
            </value>
        </block>


        <block type="matplotlib_plt_show"></block>

        <label text="Some features of the histogram (hist) function"> </label>

        <block type="numpy_library"></block>
        <block type="visualization_library">

        </block>

        <block type="itdata">
          <value name="itdata1">
            <block type="numpy_random_generator">
              <value name="numpy_Random_generator_val"> 
                <shadow type="indata">
                  <field name="indata1">19680801</field>
                </shadow>
              </value>  
            </block> 
          </value>
        </block>

        <block type="many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">mu</field>
            </block>
          </value>
          <value name="VALUE">
            <shadow type="indata"><field name="indata1">100</field></shadow>
          </value>
        </block>

        <block type="many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">sigma</field>
            </block>
          </value>
          <value name="VALUE">
            <shadow type="indata"><field name="indata1">15</field></shadow>
          </value>
        </block>

        <block type="many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">x</field>
            </block>
          </value>
          <value name="VALUE">
            <block type="Oper">
              <value name="A">
                <block type="variables_get">
                  <field name="VAR">mu</field>
                </block>
              </value>
              <value name="B">
                <block type="Oper_x">
                  <value name="A">
                    <block type="variables_get">
                      <field name="VAR">sigma</field>
                    </block>
                  </value>
                  <value name="B">
                    <block type="numpy_random_sample_x">
                      <value name="numpy_Random_sample_val">
                        <shadow type="indata"><field name="indata1">437</field></shadow>
                      </value>
                    </block>
                  </value>
                </block>
              </value>

            </block>
          </value>
        </block>

        <block type="many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">num_bins</field>
            </block>
          </value>
          <value name="VALUE">
            <shadow type="indata"><field name="indata1">50</field></shadow>
          </value>
        </block>

        <block type="many_variables">
          <value name="NUMBER">
            <shadow type="indata"><field name="indata1">fig, ax</field></shadow>
          </value>
          <value name="VALUE">
            <block type="subplots">
              <value name="VAR1">
                <block type="variables_get">
                  <field name="VAR">plt</field>
                </block>
              </value>
              <value name="VAR2">
                <shadow type="indata">
                  <field name="indata1"></field>
                </shadow>
              </value>
            </block>
          </value>
        </block>

        <block type="many_variables">
          <value name="NUMBER">
            <shadow type="indata"><field name="indata1">n, bins, patches</field></shadow>
          </value>
          <value name="VALUE">
            <block type="hist">
              <value name="VAR">
                <block type="variables_get">
                  <field name="VAR">ax</field>
                </block>
              </value>
              <value name="INPUT">
                <shadow type="indata"><field name="indata1">x, num_bins, density=True</field></shadow>
              </value>
            </block>
          </value>
        </block>

        <block type="many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">y</field>
            </block>
          </value>
          <value name="VALUE">
            <shadow type="indata"><field name="indata1">((1 / (np.sqrt(2 * np.pi) * sigma)) *
              np.exp(-0.5 * (1 / sigma * (bins - mu))**2))</field></shadow>
          </value>
        </block>

        <block type="ax_lst_plot">
          <value name="list">
            <block type="variables_get">
              <field name="VAR">ax</field>
            </block>
          </value>
          <value name="NAME">
            <shadow type="indata"><field name="indata1">bins, y, '--'</field></shadow>
          </value>
        </block>

        <block type="set_xlabel_ylabel">
          <value name="list">
            <block type="variables_get">
              <field name="VAR">ax</field>
            </block>
          </value>
            <value name="NAME">
              <shadow type="indata">
                <field name="indata1">'Smart'</field>
              </shadow>
            </value>
            <value name="NAME2">
              <shadow type="indata">
                <field name="indata1">'Probability density'</field>
              </shadow>
            </value>
        </block>

        <block type="set_title">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">ax</field>
            </block>
          </value>
          <value name="INPUT">
            <shadow type="indata">
              <field name="indata1">'Histogram of IQ: $\mu=100$, $\sigma=15$'</field>
            </shadow>
          </value>
        </block>

        <block type="tight_layout">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">fig</field>
            </block>
          </value>
          <value name="INPUT">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block>

        <block type="matplotlib_plt_show"></block>


      </category>
       <!-- ************************************************** ************************* *************************  -->
    <!-- ***************************************  파이형(Matplotlib)  ******************************************  -->
    <!-- ************************************************** ************************* *************************  -->
      <category name="파이형" colour="%{BKY_VISUAL_HUE}">

        <label text="Basic pie chart"></label>

        <block type="visualization_library"></block>

        <block type = "many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">labels</field>
            </block>
          </value>
          <value name="VALUE">
            <shadow type="indata">
              <field name="indata1">'Frogs', 'Hogs', 'Dogs', 'Logs'</field>
            </shadow>
          </value>
        </block>

        <block type = "create_list">
          <value name="list">
            <block type="variables_get">
              <field name="VAR">sizes</field>
            </block>
          </value> 
          <value name="text">
            <shadow type="indata">
              <field name="indata1">15, 30, 45, 10</field>
            </shadow>
          </value>
        </block>

        <block type = "create_tuple">
          <value name="list">
            <block type="variables_get">
              <field name="VAR">explode</field>
            </block>
          </value>  
          <value name="text">
            <shadow type="indata">
              <field name="indata1">0, 0.1, 0, 0</field>
            </shadow>
          </value>
        </block>

        <block type = "many_variables">
          <value name="NUMBER"><shadow type="indata"><field name="indata1">fig1, ax1</field></shadow></value>
          <value name="VALUE">
            <block type="subplots">
              <value name="VAR1">
                <block type="variables_get">
                  <field name="VAR">plt</field>
                </block>
              </value>
              <value name="VAR2">
                <shadow type="indata">
                  <field name="indata1"></field>
                </shadow>
              </value>
            </block>
          </value>
        </block>

        <block type = "pie_pie1">
          <value name="list">
            <block type="variables_get">
              <field name="VAR">ax1</field>
            </block>
          </value>
          <value name="d1">
            <shadow type="indata">
              <field name="indata1">sizes, explode = explode, labels = labels, autopct = '%1.1f%%', shadow = True, startangle = 90</field>
            </shadow>
          </value>
        </block>

        <block type = "pie_axis">
          <value name="list">
            <block type="variables_get">
              <field name="VAR">ax1</field>
            </block>
          </value>
          <value name="d1">
            <shadow type="indata">
              <field name="indata1">'equal'</field>
            </shadow>
          </value>
        </block>

        <block type="matplotlib_plt_show"></block>

        <label text="Scatter plot on polar axis"></label>
        
        <block type="numpy_library"></block>

        <block type="visualization_library"></block>

        <block type="numpy_random_generator1">
          <value name="numpy_Random_generator_val"> 
            <block type="math_number">
              <field name="NUM">19680801</field>
            </block>
          </value>  
        </block> 

        <block type = "many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">N</field>
            </block>
          </value>
          <value name="VALUE"><shadow type="indata"><field name="indata1">150</field></shadow></value>
        </block>

        <block type = "many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">r</field>
            </block>
          </value>
          <value name="VALUE">
            <block type="Oper1">
              <value name="A">
                <shadow type="indata">
                  <field name="indata1">2</field>
                </shadow>
              </value>
              <value name="B">
                <block type="numpy_random_sample">
                  <value name="numpy_Random_sample_val"> 
                    <block type="variables_get">
                      <field name="VAR">N</field>
                    </block>
                  </value>  
                </block> 
              </value>
            </block>
          </value>
        </block>

        <block type = "many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">theta</field>
            </block>
          </value>
          <value name="VALUE">
            <block type="Oper1">
              <value name="A">
                <shadow type="indata">
                  <field name="indata1">2</field>
                </shadow>
              </value>
              <value name="B">
                <block type="Oper1">
                  <value name="A">
                    <block type = "np_pi"></block>
                  </value>
                  <value name="B">
                    <block type="numpy_random_sample">
                      <value name="numpy_Random_sample_val"> 
                        <block type="variables_get">
                          <field name="VAR">N</field>
                        </block>
                      </value>  
                    </block> 
                  </value>
                </block>
              </value>
            </block>
          </value>
        </block>

        <block type = "many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">area</field>
            </block>
          </value>
          <value name="VALUE">
            <block type="Oper1">
              <value name="A">
                <shadow type="indata">
                  <field name="indata1">200</field>
                </shadow>
              </value>
              <value name="B">
                <block type="Oper2">
                  <value name="A">
                    <block type="variables_get">
                      <field name="VAR">r</field>
                    </block>
                  </value>
                  <value name="B">
                    <shadow type="indata">
                      <field name="indata1">2</field>
                    </shadow>
                  </value>
                </block>
              </value>
            </block>
          </value>
        </block>

        <block type = "many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">colors</field>
            </block>
          </value>
          <value name="VALUE">
            <block type="variables_get">
              <field name="VAR">theta</field>
            </block>
          </value>
        </block>

        <block type = "many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">fig</field>
            </block>
          </value>
          <value name="VALUE">
            <block type = "pie_figure">
              <value name="list">
                <block type="variables_get">
                  <field name="VAR">plt</field>
                </block>
              </value>
              <value name="d1">
                <shadow type="indata">
                  <field name="indata1"></field>
                </shadow>
              </value>
            </block>
          </value>
        </block>

        <block type = "many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">ax</field>
            </block>
          </value>
          <value name="VALUE">
            <block type = "pie_add_subplot">
              <value name="list">
                <block type="variables_get">
                  <field name="VAR">fig</field>
                </block>
              </value>
              <value name="d1">
                <shadow type="indata">
                  <field name="indata1">111, projection = 'polar'</field>
                </shadow>
              </value>
            </block>
          </value>
        </block>

        <block type = "many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">c</field>
            </block>
          </value>
          <value name="VALUE">
            <block type = "pie_ax_scatter">
              <value name="list">
                <block type="variables_get">
                  <field name="VAR">ax</field>
                </block>
              </value>
              <value name="d1">
                <shadow type="indata">
                  <field name="indata1">theta, r, c = colors, s = area, cmap = 'hsv', alpha = 0.75</field>
                </shadow>
              </value>
            </block>
          </value>
        </block>

        <block type="matplotlib_plt_show"></block>
        
        <!-- ysk -->
        <label text="Bar chart on polar axis"></label>

        <block type="numpy_library"></block>

        <block type="visualization_library"></block>

        <block type="numpy_random_generator1">
          <value name="numpy_Random_generator_val"> 
            <block type="math_number">
              <field name="NUM">19680801</field>
            </block>
          </value>  
        </block> 

        <block type = "many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">N</field>
            </block>
          </value>
          <value name="VALUE"><shadow type="indata"><field name="indata1">20</field></shadow></value>
        </block>

        <block type = "many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">theta</field>
            </block>
          </value>
          <value name="VALUE">
            <block type="pie_linspace">
              <value name="d1">
                <shadow type="indata"><field name="indata1">0.0, 2 * np.pi, N, endpoint = False</field></shadow>
              </value>
            </block>
            </value>
          </value>
        </block>

        <block type = "many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">radii</field>
            </block>
          </value>
          <value name="VALUE">
            <block type="Oper1">
              <value name="A">
                <shadow type="indata">
                  <field name="indata1">10</field>
                </shadow>
              </value>
              <value name="B">
                <block type="numpy_random_sample">
                  <value name="numpy_Random_sample_val"> 
                    <block type="variables_get">
                      <field name="VAR">N</field>
                    </block>
                  </value>  
                </block> 
              </value>
            </block>
          </value>
        </block>

        <block type = "many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">width</field>
            </block>
          </value>
          <value name="VALUE">
            <block type="Oper3">
              <value name="A">
                <block type = "np_pi"></block>
              </value>
              <value name="B">
                <block type="Oper1">
                  <value name="A">
                    <shadow type="indata">
                      <field name="indata1">4</field>
                    </shadow>
                  </value>
                  <value name="B">
                    <block type="numpy_random_sample">
                      <value name="numpy_Random_sample_val"> 
                        <block type="variables_get">
                          <field name="VAR">N</field>
                        </block>
                      </value>  
                    </block> 
                  </value>
                </block>
              </value>
            </block>
          </value>
        </block>

        <block type = "many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">colors</field>
            </block>
          </value>
          <value name="VALUE">
            <block type = "pie_cm_viridis">
              <value name="d1">
                <block type="Oper3">
                  <value name="A">
                    <block type="variables_get">
                      <field name="VAR">radii</field>
                    </block>
                  </value>
                  <value name="B">
                    <shadow type="indata">
                      <field name="indata1">10</field>
                    </shadow>
                  </value>
                </block>
              </value>
            </block>
          </value>
        </block>

        <block type = "many_variables">
          <value name="NUMBER">
            <block type="variables_get">
              <field name="VAR">ax</field>
            </block>
          </value>
          <value name="VALUE">
            <block type = "pie_subplots1">
              <value name="list">
                <block type="variables_get">
                  <field name="VAR">plt</field>
                </block>
              </value>
              <value name="d1">
                <shadow type="indata">
                  <field name="indata1">111, projection='polar'</field>
                </shadow>
              </value>
            </block>
          </value>
        </block>

        <block type = "pie_bar">
          <value name="list">
            <block type="variables_get">
              <field name="VAR">ax</field>
            </block>
          </value>
          <value name="d1">
              <shadow type="indata">
                <field name="indata1">theta, radii, width = width, bottom = 0.0, color = colors, alpha = 0.5</field>
              </shadow>
          </value>
        </block>

        <block type="matplotlib_plt_show"></block>

      </category>

      <!-- 그래프 출력 -->
      <!-- <block type="select_graph_option">
        <value name="select_graph_option_location1">
          <shadow type="math_number">
            <field name="NUM">0</field>
          </shadow> 
        </value>
        <value name="select_graph_option_location2">
          <shadow type="math_number">
            <field name="NUM">0</field>
          </shadow>
        </value>
      </block> -->      
      
    </category>

    <!-- 웹크롤링 -->
    <!-- 2020.10.31 교수님 지시로 임시로 안보이게함
    <category name="데이터 수집" colour="%{BKY_CLASS_HUE}">
      <block type="script_block"></block>
    </category>
    -->
    <!-- 웹크롤링 -->

    <category name="%{BKY_CATEGORY_SCIPY}" colour="%{BKY_SCIPY_HUE}"> <!--사이파이(Scipy)-->
      <block type="import_scipy"></block>
      <block type="curve_fit"></block>
      <block type="univariatespline"></block>
      <block type="quad"></block>
      <block type="scipy_io_wavfile_read">
        <value name="file">
          <block type="fileopen2"></block>   
        </value>
      </block>
      <!-- 지원 -->
      <block type="scipy_butter">
        <value name="INPUT">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>
      <block type="scipy_sosfilt">
        <value name="INPUT">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>
      <block type="scipy_hilbert">
        <value name="INPUT">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>
      <block type="scipy_correlate">
        <value name="INPUT">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>
      <block type="scipy_stft_istft">
        <value name="INPUT">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>
      <block type="scipy_find_peaks">
        <value name="INPUT">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>
      <block type="scipy_fft">
        <value name="INPUT">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>
      <!-- 성주 -->
      <block type="scipy_signal_cwt">
        <value name="data">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <block type="scipy_signal_spectrogram">
        <value name="data">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <block type="scipy_signal_gaussian">
        <value name="data">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <block type="scipy_signal_hann">
        <value name="data">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <block type="scipy_signal_flattop">
        <value name="data">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <block type="scipy_signal_blackman">
        <value name="data">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <block type="scipy_signal_exponential">
        <value name="data">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <block type="scipy_signal_hamming">
        <value name="data">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      
    <!-- 임시 승국 -->
    <block type = "scipy_write_read">
      <value name="d1">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <block type = "scipy_cascade">
      <value name="d1">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <block type = "scipy_daub">
      <value name="d1">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <block type = "scipy_morlet">
      <value name="d1">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <block type = "scipy_qmf">
      <value name="d1">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <block type = "scipy_ricker">
      <value name="d1">
        <shadow type="indata">
          <field name="indata1"></field>
        </shadow>
      </value>
    </block>

    <!-- 임시 승국 -->
      
      <block type = "scipy_bartlett">
        <value name="d2">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <block type = "scipy_tsearch">
        <value name="d2">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <block type = "scipy_distance_matrix_minkowski_distance_minkowski_distance_p">
        <value name="d2">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <block type = "scipy_procrustes">
        <value name="d2">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

    </category>
    <!-- # 시각화 부분 #  -->
    <category name="사이킷이미지(Skimage)" colour="%{BKY_SCIKITLEARN_IMAGE}"> <!--colour="%{BKY_SCIKITLEARN_HUE}"-->
      <block type="import_skimage"></block>
      <block type="import_skimage_morphology"></block>
      <block type = "ski_class"></block>
      <block type="skimage_data"></block>
      <block type = "skimage_filters">
        <value name="d2">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
      </value>
      </block>
      <block type = "skimage_transform">
        <value name="d2">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
      </value>
      </block>
      <block type = "skimage_img_as_float">
        <value name="d2">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
      </value>
      </block>  
      <block type="skimage_util">
        <value name="INPUT">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
      </value>
      </block>
      <block type="skimage_measure">
        <value name="INPUT">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
      </value>
      </block>

      <block type = "skimage_color">
        <value name="para">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
        </value>
      </block>

      <block type = "skimage_feature">
        <value name="para">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
        </value>
      </block>

      <block type = "skimage_morphology">
        <value name="para">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
        </value>
      </block>


      <!--관필-->
      <block type="skimage_draw">
        <value name="data">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <block type="skimage_data_immunohistochemistry">
        <value name="data">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <block type="skimage_segmentation">
        <value name="data">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <!-- 성주 -->
      <block type="skimage_util_shape">
        <value name="para">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>

      <block type="ndi_zoom">
        <value name="data">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
        <value name="data2">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
      </block>


      <block type="img_as_float">
        <value name="para">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
        <value name="para">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>

      </block>

      <block type="data_camera">
        <value name="para">
          <shadow type="indata">
            <field name="indata1"></field>
          </shadow>
        </value>
       

      </block>
    
    </category>
    
    <!-- //////////////////////////////////////////////////////////////////////////
    //
    // 2021.01. 사이킷런 정리, 정지현
    //
    ///////////////////////////////////////////////////////////////////////////////
    -->
    <category name="%{BKY_CATEGORY_SCIKIT}" colour="%{BKY_SCIKITLEARN_HUE}"> 
      <!-- 기본 - 자주쓰는 블록, 모델 학습, 예측, 평가, 임포트 등 -->
      <category name="기본" colour="%{BKY_SCIKITLEARN_HUE}">
        <label text="라이브러리 임포트"></label>
        <block type="import_scikit_learn"></block>

        <label text="데이터 처리(핸들링)"></label>
        <block type="train_test_split"></block>
          <!-- <value name="x_data">
            <block type="variables_get">
              <field name="VAR">x_data</field>
            </block>
          </value>
          <value name="y_data">
            <block type="variables_get">
              <field name="VAR">y_data</field>
            </block>
          </value>
          <value name="x_train">
            <block type="variables_get">
              <field name="VAR">x_train</field>
            </block>
          </value>
          <value name="x_test">
            <block type="variables_get">
              <field name="VAR">x_test</field>
            </block>
          </value>
          <value name="y_train">
            <block type="variables_get">
              <field name="VAR">y_train</field>
            </block>
          </value>
          <value name="y_test">
            <block type="variables_get">
              <field name="VAR">y_test</field>
            </block>
          </value>
          <value name = "test_size">
            <shadow type="indata">
              <field name="indata1">0.2</field>
            </shadow>
          </value>
          <value name = "seed">
            <shadow type="indata">
              <field name="indata1">0</field>
            </shadow>
          </value> -->
        

        <block type="labelencoder">
          <value name="df">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
          <value name = "column">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block>

        <block type="onehotencoder">
          <value name="df">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
        </block>

        <label text="모델 학습 및 평가"></label>
        <block type="model_fit">
          <value name="model">
            <block type="variables_get">
              <field name="VAR">model</field>
            </block>
          </value>
          <value name="X_train">
            <block type="variables_get">
              <field name="VAR">x_train</field>
            </block>
          </value>
          <value name="Y_train">
            <block type="variables_get">
              <field name="VAR">y_train</field>
            </block>
          </value>
        </block>

        <block type="model_score">
          <value name="model_name">
            <block type="variables_get">
              <field name="VAR">model</field>
            </block>
          </value>
          <value name="x_test">
            <block type="variables_get">
              <field name="VAR">x_test</field>
            </block>
          </value>
          <value name="y_test">
            <block type="variables_get">
              <field name="VAR">y_test</field>
            </block>
          </value>
        </block>
        <block type="model_predict">
          <value name="model">
            <block type="variables_get">
              <field name="VAR">model</field>
            </block>
          </value>
          <value name="NAME">
            <block type="variables_get">
              <field name="VAR">x_test</field>
            </block>
          </value>
        </block>

        <label text="속성 추출"></label>
        <block type="coef">
          <value name="coef">
            <block type="variables_get">
              <field name="VAR">model</field>
            </block>
          </value>
        </block>
        <block type="intercept">
          <value name="intercept">
            <block type="variables_get">
              <field name="VAR">model</field>
            </block>
          </value>
        </block>

      </category>

      <category name="데이터" colour="%{BKY_SCIKITLEARN_HUE}">
        <label text="데이터셋"></label>

        <block type="import_dataset">
          <value name="x_data">
            <block type="variables_get">
              <field name="VAR">x_data</field>
            </block>
          </value>
          <value name="y_data">
            <block type="variables_get">
              <field name="VAR">y_data</field>
            </block>
          </value>
        </block>

        <block type="random_import">
          <value name="x_data">
            <block type="variables_get">
              <field name="VAR">x_data</field>
            </block>
          </value>
          <value name="y_data">
            <block type="variables_get">
              <field name="VAR">y_data</field>
            </block>
          </value>
          <value name = "sa">
            <shadow type="indata">
              <field name="indata1">100</field>
            </shadow>
          </value>
          <value name = "fe">
            <shadow type="indata">
              <field name="indata1">2</field>
            </shadow>
          </value>
          <value name = "seed">
            <shadow type="indata">
              <field name="indata1">0</field>
            </shadow>
          </value>
        </block>

        <block type="make_circles">
          <value name="x_data">
            <block type="variables_get">
              <field name="VAR">x_data</field>
            </block>
          </value>
          <value name="y_data">
            <block type="variables_get">
              <field name="VAR">y_data</field>
            </block>
          </value>
          <value name = "n_samples">
            <shadow type="indata">
              <field name="indata1">100</field>
            </shadow>
          </value>
          <value name = "factor">
            <shadow type="indata">
              <field name="indata1">0.5</field>
            </shadow>
          </value>
        </block>

        <label text="데이터 핸들링"></label>

        <block type="train_test_split"></block>
          <!-- <value name="x_data">
            <block type="variables_get">
              <field name="VAR">x_data</field>
            </block>
          </value>

          <value name="y_data">
            <block type="variables_get">
              <field name="VAR">y_data</field>
            </block>
          </value>
          <value name="x_train">
            <block type="variables_get">
              <field name="VAR">x_train</field>
            </block>
          </value>
          <value name="x_test">
            <block type="variables_get">
              <field name="VAR">x_test</field>
            </block>
          </value>
          <value name="y_train">
            <block type="variables_get">
              <field name="VAR">y_train</field>
            </block>
          </value>
          <value name="y_test">
            <block type="variables_get">
              <field name="VAR">y_test</field>
            </block>
          </value>
          <value name = "test_size">
            <shadow type="indata">
              <field name="indata1">0.2</field>
            </shadow>
          </value>
          <value name = "seed">
            <shadow type="indata">
              <field name="indata1">0</field>
            </shadow>
          </value> -->
        
        
        
        <block type="kfold">
          <value name="model">
            <block type="variables_get">
              <field name="VAR">kf</field>
            </block>
          </value>
          <value name = "NAME">
            <shadow type="indata">
              <field name="indata1">3</field>
            </shadow>
          </value>
          <value name = "seed">
            <shadow type="indata">
              <field name="indata1">0</field>
            </shadow>
          </value>
        </block>

        <block type="labelencoder">
          <value name="df">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
          <value name = "column">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block>
        
        <block type="onehotencoder">
          <value name="df">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
        </block>
        <block type="polynomialfeatures">
          <value name = "NAME">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block>

      </category>

        <category name="예측" colour="%{BKY_SCIKITLEARN_HUE}">
          <block type="linear_regression">
            <value name="model">
              <block type="variables_get">
                <field name="VAR">model</field>
              </block>
            </value>
          </block>

          <block type="sgd_regressor">
            <value name="model">
              <block type="variables_get">
                <field name="VAR">model</field>
              </block>
            </value>
            <value name = "numEpochs">
              <shadow type="indata">
                <field name="indata1">100</field>
              </shadow>
            </value>
          </block>

          <block type="ridge">
            <value name="model">
              <block type="variables_get">
                <field name="VAR">model</field>
              </block>
            </value>
            <value name = "numAlpha">
              <shadow type="indata">
                <field name="indata1">1.0</field>
              </shadow>
            </value>
          </block>

          <block type="bayesian_ridge">
            <value name="model">
              <block type="variables_get">
                <field name="VAR">model</field>
              </block>
            </value>
          </block>


          <block type="adaboostregressor">
            <value name="NAME">
              <block type="variables_get">
                <field name="VAR">model</field>
              </block>
            </value>
            <value name = "NAME2">
              <shadow type="indata">
                <field name="indata1">100</field>
              </shadow>
            </value>
            <value name = "NAME3">
              <shadow type="indata">
                <field name="indata1">0</field>
              </shadow>
            </value>
          </block>

          <block type="gradientboostingregressor">
            <value name="NAME">
              <block type="variables_get">
                <field name="VAR">model</field>
              </block>
            </value>
            <value name = "NAME2">
              <shadow type="indata">
                <field name="indata1">100</field>
              </shadow>
            </value>
          </block>

          <block type="randomforestregressor">
            <value name="NAME">
              <block type="variables_get">
                <field name="VAR">model</field>
              </block>
            </value>
            <value name = "NAME2">
              <shadow type="indata">
                <field name="indata1">100</field>
              </shadow>
            </value>
            <value name = "NAME3">
              <shadow type="indata">
                <field name="indata1">0</field>
              </shadow>
            </value>
          </block>

          <block type="kneighborsregressor_function">
            <value name="value">
              <block type="variables_get">
                <field name="VAR">model</field>
              </block>
            </value>
            <value name = "value1">
              <shadow type="indata">
                <field name="indata1"></field>
              </shadow>
            </value>
          </block>
 
          <block type="linearsvr">
            <value name = "NAME">
              <shadow type="indata">
                <field name="indata1">0</field>
              </shadow>
            </value>
          </block>


        </category>

        <category name="분류" colour="%{BKY_SCIKITLEARN_HUE}">
          <block type="logistic_regression">
            <value name="model">
              <block type="variables_get">
                <field name="VAR">model</field>
              </block>
            </value>
            <value name = "numSeed">
              <shadow type="indata">
                <field name="indata1">0</field>
              </shadow>
            </value>
          </block>

          <block type="logistic_regression_cv">
            <value name="model">
              <block type="variables_get">
                <field name="VAR">model</field>
              </block>
            </value>
            <value name = "numCv">
              <shadow type="indata">
                <field name="indata1">5</field>
              </shadow>
            </value>
            <value name = "numSeed">
              <shadow type="indata">
                <field name="indata1">0</field>
              </shadow>
            </value>
          </block>

          <block type="ridge_classifier">
            <value name="model">
              <block type="variables_get">
                <field name="VAR">model</field>
              </block>
            </value>
          </block>
          <block type="sgd_classifier">
            <value name="model">
              <block type="variables_get">
                <field name="VAR">model</field>
              </block>
            </value>
            <value name = "numEpochs">
              <shadow type="indata">
                <field name="indata1"></field>
              </shadow>
            </value>
          </block>
        

          <block type="decision">
            <value name="model">
              <block type="variables_get">
                <field name="VAR">model</field>
              </block>
            </value>
            <value name = "depth">
              <shadow type="indata">
                <field name="indata1">10</field>
              </shadow>
            </value>
            <value name = "seed">
              <shadow type="indata">
                <field name="indata1">0</field>
              </shadow>
            </value>
          </block>

          <block type="adaboostclassifier">
            <value name="NAME">
              <block type="variables_get">
                <field name="VAR">model</field>
              </block>
            </value>
            <value name = "NAME2">
              <shadow type="indata">
                <field name="indata1">50</field>
              </shadow>
            </value>
            <value name = "NAME3">
              <shadow type="indata">
                <field name="indata1">0</field>
              </shadow>
            </value>
          </block>

          <block type="gradientboostingclassifier">
            <value name="NAME">
              <block type="variables_get">
                <field name="VAR">model</field>
              </block>
            </value>
            <value name = "NAME2">
              <shadow type="indata">
                <field name="indata1">100</field>
              </shadow>
            </value>
          </block>

          <block type="randomforestclassifier">
            <value name="NAME">
              <block type="variables_get">
                <field name="VAR">model</field>
              </block>
            </value>
            <value name = "NAME2">
              <shadow type="indata">
                <field name="indata1"></field>
              </shadow>
            </value>
            <value name = "NAME3">
              <shadow type="indata">
                <field name="indata1"></field>
              </shadow>
            </value>
          </block>

          <block type="kneighborsclassifier_function">
            <value name="value">
              <block type="variables_get">
                <field name="VAR">model</field>
              </block>
            </value>
            <value name = "value1">
              <shadow type="indata">
                <field name="indata1">5</field>
              </shadow>
            </value>
          </block>
 
          <block type="linearsvc">
            <value name = "NAME">
              <shadow type="indata">
                <field name="indata1">0</field>
              </shadow>
            </value>
          </block>

          
        </category>

      <category name="군집화" colour="%{BKY_SCIKITLEARN_HUE}">
        <block type="k_means">
          <value name="model">
            <block type="variables_get">
              <field name="VAR">model</field>
            </block>
          </value>
          <value name = "cnt">
            <shadow type="indata">
              <field name="indata1">2</field>
            </shadow>
          </value>
        </block>

        <block type="dbscan">
          <value name="DBSCAN_val">
            <block type="variables_get">
              <field name="VAR">model</field>
            </block>
          </value>
          <value name = "DBSCAN_EPS">
            <shadow type="indata">
              <field name="indata1">0.5</field>
            </shadow>
          </value>
        </block>

        <block type="isolation_forest">
          <value name="Isolation_Forest_val">
            <block type="variables_get">
              <field name="VAR">model</field>
            </block>
          </value>
          <value name = "Isolation_Forest_estimators">
            <shadow type="indata">
              <field name="indata1">100</field>
            </shadow>
          </value>
          <value name = "Isolation_Forest_connection">
            <shadow type="indata">
              <field name="indata1">0.5</field>
            </shadow>
          </value>
          <value name = "Isolation_Forest_randomstate">
            <shadow type="indata">
              <field name="indata1">0</field>
            </shadow>
          </value>
        </block>

        <label text="K-Means 속성 추출"></label>

        <block type="k_means_inertia">
          <value name="model">
            <block type="variables_get">
              <field name="VAR">model</field>
            </block>
          </value>
        </block>

        <block type="k_means_centroid">
          <value name="model">
            <block type="variables_get">
              <field name="VAR">model</field>
            </block>
          </value>
        </block>

      </category>

      <category name="평가지표" colour="%{BKY_SCIKITLEARN_HUE}">
        <label text="기본 평가 지표"></label>
        <block type="acc_score">
          <value name="yt">
            <block type="variables_get">
              <field name="VAR">y_test</field>
            </block>
          </value>
          <value name="yp">
            <block type="variables_get">
              <field name="VAR">y_pred</field>
            </block>
          </value>
        </block>
        <block type="mae">
          <value name="yt">
            <block type="variables_get">
              <field name="VAR">y_test</field>
            </block>
          </value>
          <value name="yp">
            <block type="variables_get">
              <field name="VAR">y_pred</field>
            </block>
          </value>
        </block>
        <block type="mse">
          <value name="yt">
            <block type="variables_get">
              <field name="VAR">y_test</field>
            </block>
          </value>
          <value name="yp">
            <block type="variables_get">
              <field name="VAR">y_pred</field>
            </block>
          </value>
        </block>

        <label text="고급 평가 지표"></label>
        <!-- <block type="AUC">
          <value name="yt">
            <block type="variables_get">
              <field name="VAR">x_data</field>
            </block>
          </value>
          <value name="yp">
            <block type="variables_get">
              <field name="VAR">y_pred</field>
            </block>
          </value>
        </block> -->
        <block type="AP">
          <value name="yt">
            <block type="variables_get">
              <field name="VAR">y_test</field>
            </block>
          </value>
          <value name="yp">
            <block type="variables_get">
              <field name="VAR">y_score</field>
            </block>
          </value>
        </block>
        <block type="precision">
          <value name="yt">
            <block type="variables_get">
              <field name="VAR">y_test</field>
            </block>
          </value>
          <value name="yp">
            <block type="variables_get">
              <field name="VAR">y_pred</field>
            </block>
          </value>
        </block>
        <block type="median">
          <value name="yt">
            <block type="variables_get">
              <field name="VAR">y_test</field>
            </block>
          </value>
          <value name="yp">
            <block type="variables_get">
              <field name="VAR">y_pred</field>
            </block>
          </value>
        </block> 
        <block type="sivalidation">
          <value name="em">
            <block type="variables_get">
              <field name="VAR">model</field>
            </block>
          </value>
          <value name="x">
            <block type="variables_get">
              <field name="VAR">x_data</field>
            </block>
          </value>
          <value name="y">
            <block type="variables_get">
              <field name="VAR">y_data</field>
            </block>
          </value>
        </block>
        <block type="classification_report">
          <value name="classification_report_Y_true">
            <block type="variables_get">
              <field name="VAR">y_test</field>
            </block>
          </value>
          <value name="classification_report_y_pred">
            <block type="variables_get">
              <field name="VAR">y_pred</field>
            </block>
          </value>
        </block>
      </category>

      <!-- 계수, 절편 추출 등 -->
      <category name="신경망" colour="%{BKY_SCIKITLEARN_HUE}">
        <block type="perceptron">
          <value name="model">
            <block type="variables_get">
              <field name="VAR">model</field>
            </block>
          </value>
          <value name = "numSeed">
            <shadow type="indata">
              <field name="indata1">0</field>
            </shadow>
          </value>
        </block>

        <block type="sklearn_mlp_regressor">
          <value name="sklearn_mlp_lib_val">
            <block type="variables_get">
              <field name="VAR">model</field>
            </block>
          </value>
          <value name = "sklearn_mlp_hidden_layer_sizes">
            <shadow type="indata">
              <field name="indata1">64, 32</field>
            </shadow>
          </value>
          <value name = "sklearn_MLP_Max_iter">
            <shadow type="indata">
              <field name="indata1">100</field>
            </shadow>
          </value>
          <value name = "sklearn_MLP_random_state">
            <shadow type="indata">
              <field name="indata1">0</field>
            </shadow>
          </value>
          <value name = "sklearn_MLP_batch_size">
            <shadow type="indata">
              <field name="indata1">32</field>
            </shadow>
          </value>
          <value name = "sklearn_MLP_learning_rate">
            <shadow type="indata">
              <field name="indata1">0.001</field>
            </shadow>
          </value>
        </block>

        <block type="sklearn_mlp_classifier">
          <value name="sklearn_mlp_lib_val">
            <block type="variables_get">
              <field name="VAR">model</field>
            </block>
          </value>
          <value name = "sklearn_mlp_hidden_layer_sizes">
            <shadow type="indata">
              <field name="indata1">64, 32</field>
            </shadow>
          </value>
          <value name = "sklearn_MLP_Max_iter">
            <shadow type="indata">
              <field name="indata1">100</field>
            </shadow>
          </value>
          <value name = "sklearn_MLP_random_state">
            <shadow type="indata">
              <field name="indata1">0</field>
            </shadow>
          </value>
          <value name = "sklearn_MLP_batch_size">
            <shadow type="indata">
              <field name="indata1">32</field>
            </shadow>
          </value>
          <value name = "sklearn_MLP_learning_rate">
            <shadow type="indata">
              <field name="indata1">0.001</field>
            </shadow>
          </value>
        </block>

        <block type="bernoullirbm">
          <value name="model">
            <block type="variables_get">
              <field name="VAR">model</field>
            </block>
          </value>
          <value name = "hi">
            <shadow type="indata">
              <field name="indata1">50</field>
            </shadow>
          </value>
          <value name = "lr">
            <shadow type="indata">
              <field name="indata1">0.001</field>
            </shadow>
          </value>
          <value name = "batch">
            <shadow type="indata">
              <field name="indata1">16</field>
            </shadow>
          </value>
          <value name = "epochs">
            <shadow type="indata">
              <field name="indata1">100</field>
            </shadow>
          </value>
          <value name = "seed">
            <shadow type="indata">
              <field name="indata1">0</field>
            </shadow>
          </value>
        </block>
        <block type="mlp_loss">
          <value name="model">
            <block type="variables_get">
              <field name="VAR">model</field>
            </block>
          </value>
        </block>

        <!-- 기존에 남은 블록들입니다. 처리하던가, 새로 추가하던가 해야할 듯. -- 2021-01-26 작성 -->
        <!-- <label text="남은 블록(Deprecated.)"></label>
        <block type="normal">
          <value name="Normalization_data">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
        </block>
        <block type="fetch_openml"></block>        
        <block type="kneighborstransformer_function"></block>
        <block type="kneighbors_graph_function"></block>
        <block type="tree_text"></block> 
        <block type="metrics_fit_predict"></block> -->
        <!-- <block type="normal">
          <value name="Normalization_data">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
        </block> -->
      </category>

    </category>

    <!-- 기본 블록 2020 - 09 - 07 찬영 -->
    <!-- 새 블록  딕셔너리 -->
    <category name="%{BKY_CATEGORY_DATASCIENCE}" colour="%{BKY_DATA_HUE}"> <!--데이터과학(DS)-->
    </category>
    <category name="%{BKY_CATEGORY_MACHINELEARNING}" colour="%{BKY_ML_HUE}"> <!--머신러닝(ML)-->
    </category>
    <category name="%{BKY_CATEGORY_DEEPLEARNING}" colour="%{BKY_DL_HUE}"> <!--딥러닝(DL)-->
      <!-- <block type="import_skimage_morphology"></block>
        <block type="import_axes3D"></block>

        <block type="matplotlib_main_figure">
          <value name="matplotlib_main_cols">
            <shadow type="math_number">
              <field name="NUM">2</field>
            </shadow>
          </value>
          <value name="matplotlib_main_rows">
            <shadow type="math_number">
              <field name="NUM">2</field>
            </shadow>
          </value>
        </block>
      
        <block type = "pie_subplots_imshow">
          <value name="name1">
            <block type="variables_get">
              <field name="VAR">ax</field>
            </block>
          </value>
          <value name="name2">
            <shadow type="indata">
              <field name="indata1">Z2, extent=extent, origin="lower"</field>
            </shadow>
          </value>
        </block>

        <block type ="dic_menu1_2">
          <value name="list">
            <block type="variables_get">
              <field name="VAR">my_dict</field>
            </block>
          </value> 
          <value name="list2">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value> 
        </block>

        <block type="set_axis_off">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">ax</field>
            </block>
          </value>
          <value name="INPUT">
            <shadow type="indata">
              <field name="indata1"></field>
            </shadow>
          </value>
        </block>

        <block type="voxels">
          <value name="VAR">
            <block type="variables_get">
              <field name="VAR">ax</field>
            </block>
          </value>
          <value name="INPUT">
            <shadow type="indata">
              <field name="indata1">struc</field>
            </shadow>
          </value>
        </block> -->

    </category>
    <!-- <category name="프롤로그 (Prolog)" colour="%{BKY_PROLOG_HUE}">
      <block type="prolog_list">
        <value name="bar">
          <block type="funktor"></block>
        </value>
      </block>
      <block type="Rule">
        <value name="Fact">
          <block type="prolog_list_rule">
            <value name="bar">
              <block type="funktor"></block>
            </value>
          </block>
        </value>
        <value name="Rumpf">
          <block type="rumpf"></block>
        </value>
      </block>
      <block type="abfrage">
        <value name="NAME">
          <block type="separate"></block>
        </value>
      </block>
      <block type="separate"></block>
      <block type="constant"></block>
      <block type="funktor"></block>
      <block type="rumpf"></block> 
    </category> -->



    <!-- 기계 고장 진단  -->
    <!-- <category name="전공직무AI융합" colour="%{BKY_PROLOG_HUE}">
      <block type="wavfile_read">
        <value name="wavfile_read_val">
          <block type="class_func_param"></block>
        </value> 
      </block>
    </category>  -->

    <!-- 이전 사이킷런 카테고리, Deprecated -->
    <!--<category name="Scikit-learn Deprecated" colour="%{BKY_SCIKITLEARN_HUE}"> <!--사이킷런(Scikit)
      <category name="%{BKY_CATEGORY_DATASET}" colour="%{BKY_SCIKITLEARN_HUE}"> <!--데이터셋 (Dataset)
        <block type="import_dataset"></block>
        <block type="random_import"></block>
        <block type="make_circles"></block>
        <block type="fetch_openml"></block>
        <block type="csv2"></block>
      </category>

      <category name="%{BKY_CATEGORY_PREPROCESSING}" colour="%{BKY_SCIKITLEARN_HUE}"> <!--전처리 (Preprocessing)
        <block type="sklearn.preprocessing"></block>
        <block type="labelencoder"></block>
        <block type="train_test_split"></block>
        <block type="polynomialfeatures"></block>
        <block type="normal">
          <value name="Normalization_data">
            <block type="variables_get">
              <field name="VAR">df</field>
            </block>
          </value>
        </block>
        <block type="onehotencoder"></block>
      </category>

      <category name="%{BKY_CATEGORY_LINEAR}" colour="%{BKY_SCIKITLEARN_HUE}"> <!--선형모델(Linear)
        <block type="import_linear"></block>
        <!-- <block type="scikit_learn"></block> 
        <!--지현이가 만든거 여기에 잠들다.
        <block type="linear_regression"></block>
        <block type="sgd_regressor"></block>
        <block type="ridge"></block>
        <block type="bayesian_ridge"></block>
        <block type="logistic_regression"></block>
        <block type="logistic_regression_cv"></block>
        <block type="ridge_classifier"></block>
        <block type="sgd_classifier"></block>
        <block type="perceptron"></block>
        <block type="coef"></block>
        <block type="intercept"></block>
      </category>
      <category name="%{BKY_CATEGORY_NEIGHBORS}" colour="%{BKY_SCIKITLEARN_HUE}"> <!--KNN(Neighbors)
        <block type="knn_import"></block>
        <block type="kneighborsclassifier_function"></block>
        <block type="kneighborsregressor_function"></block>
        <block type="kneighborstransformer_function"></block>
        <block type="kneighbors_graph_function"></block>
      </category>

      <!-- 2020-10-14 정지현이 추가함, 기존 KNN의 클러스터 블록 가져옴 
      <category name="%{BKY_CATEGORY_CLUSTER}" colour="%{BKY_SCIKITLEARN_HUE}"> <!--클러스터(Cluster)
        <block type="import_knn"></block>
        <block type="k_means"></block>
        <block type="dbscan"></block>
        <block type="k_means_inertia"></block>
        <block type="k_means_centroid"></block>
      </category>

      <category name="%{BKY_CATEGORY_DECISIONTREE}" colour="%{BKY_SCIKITLEARN_HUE}"> <!--결정트리(Decisiontree)
        <block type="import_tree"></block>
        <block type="decision"></block>
        <block type="tree_text"></block> 
      </category>
      <category name="%{BKY_CATEGORY_SUPPORT}" colour="%{BKY_SCIKITLEARN_HUE}"> <!--서포트 벡터 머신
        <block type="sklearn_svm"></block>
        <block type="linearsvc"></block>
        <block type="linearsvr"></block>


      </category>

      <category name="%{BKY_CATEGORY_ESEMBLE}" colour="%{BKY_SCIKITLEARN_HUE}"> <!--앙상블(Esemble)
        <block type="sklearn_ensemble"></block>
        <block type="adaboostclassifier"></block>
        <block type="adaboostregressor"></block>
        <block type="gradientboostingclassifier"></block>
        <block type="gradientboostingregressor"></block>
        <block type="randomforestclassifier"></block>
        <block type="randomforestregressor"></block>
        <block type="isolation_forest"></block>

      </category>

      <category name="%{BKY_CATEGORY_METRICS}" colour="%{BKY_SCIKITLEARN_HUE}"> <!--메트릭스(Metrics)
        <block type="import_scikit"></block> 
        <block type="model_fit"></block>
        <block type="model_score"></block>
        <block type="model_predict"></block>
        <block type="acc_score"></block>
        <block type="AUC"></block>
        <block type="AP"></block>
        <block type="precision"></block>
        <block type="mae"></block>
        <block type="mse"></block>
        <block type="median"></block> 
        <block type="metrics_fit_predict"></block>
        <block type="classification_report"></block>
      </category>
      <category name="%{BKY_CATEGORY_SELECTION}" colour="%{BKY_SCIKITLEARN_HUE}"> <!--셀렉션(Selection)
        <block type="import_sivalidation"></block>
        <block type="kfold"></block>
        <!-- <block type="stratifiedkfold"></block>
        <block type="train_test_split"></block>
        <block type="sivalidation"></block>
      </category>
      <category name="%{BKY_CATEGORY_NEURALNETWORK}" colour="%{BKY_SCIKITLEARN_HUE}"> <!--신경망(Neuralnetwork)
        <block type="import_mlp"></block>
        <block type="sklearn_mlp_classifier"></block>
        <block type="sklearn_mlp_regressor"></block>
        <!-- 사이킷런 MLP 블록  -->
        <!-- <block type="make_mlp_classifier"></block>
        <block type="make_mlp_regressor"></block> 
        <!-- <block type="mlp_classifier"></block>
        <block type="mlp_regressor"></block> 
        <block type="bernoullirbm"></block>
        <block type="mlp_loss"></block>

      </category>
      <!-- <block type="array_get"></block>
      <block type="csv2"></block>
       <block type="sklearn_mlp_fit"></block> 
    </category>
  -->

  </xml>

  <!-- code mirror -->
  <script>
    // JS 코드미러
    var jsEditor = CodeMirror(document.getElementById("jsCodeEditor"), {
      mode: "javascript",
      // value: "codemirror",
      theme: "oceanic-next",          // 테마
      inputStyle: "contenteditable",  // 입력 처리 방식
      // readOnly: true,              // 읽기 전용 설정
      lineNumbers: true,              // 라인 넘버 설정
      lineWrapping: true,             // 자동 줄바꿈 설정
      // spellcheck: true,   autocorrect: true,
    });

    // PY 코드미러
    var pyEditor = CodeMirror(document.getElementById("pyCodeEditor"), {
      mode: "python",
      // value: "codemirror",
      theme: "oceanic-next",          // 테마
      inputStyle: "contenteditable",  // 입력 처리 방식
      // readOnly: true,              // 읽기 전용
      lineNumbers: true,              // 라인 넘버 설정
      lineWrapping: true,             // 자동 줄바꿈 설정
      // spellcheck: true,            // 스펠링 체크
      extraKeys: { "Ctrl-Space": "autocomplete" }, // 단축키
      //   spellcheck: true,   autocorrect: true,
    });

    // (demoWorkspace = 블록배치하는 공간) 블록이 나타나는 부분
    var demoWorkspace = Blockly.inject( 
      "blocklyDiv", {
        toolbox: document.getElementById("toolbox"), // 툴박스  보이기 
        grid: // 그리드 보이기 
        {
          spacing: 0,
          length: 3,
          colour: '#ccc',
          snap: true
        },
        zoom: // 줌 기능 3단계 변경
        {
          controls: true,
          wheel: true,
          startScale: 1.0,
          maxScale: 3,
          minScale: 0.3,
          scaleSpeed: 1.2,
          //pinch: true
        },
        trashcan: true, // 휴지통
        /*theme: {
          'blockStyles': {
            "list_blocks": {
              "colourPrimary": "#4a148c",
              "colourSecondary": "#AD7BE9",
              "colourTertiary": "#CDB6E9"
            }
          },
          'categoryStyles': {
            "list_category": {
              "colour": "#4a148c"
            }
          },
          'componentStyles': {
            'toolboxBackgroundColour': '#848484', // toolbox background
            'toolboxForegroundColour': '#fff',
            'flyoutBackgroundColour': '#D8D8D8', // toolbox color
          }
        }*/
        renderer: "zelos" // 제로스 테마
      }
    );

    // 생성될 코드에 대해 선택하는 부분 -> 사용할때마다 선언해서 굳이 필요 없어보임.
    //var jsCode = Blockly.JavaScript.workspaceToCode(demoWorkspace); // 자바 스크립트 선택 
    //var pyCode = Blockly.Python.workspaceToCode(demoWorkspace); // 파이썬 선택 



    //==================================
    // 블록 저장하기 
    //===================================  
    function saveBlock() {
      let xml = Blockly.Xml.workspaceToDom(demoWorkspace);  // 워크스페이스를 돔(xml)로 만듬
      let p_xml = Blockly.Xml.domToPrettyText(xml);         // 돔(xml)을 깔끔하게 만드는 부분
      let filename = prompt("다른이름으로 저장.");           // 다른이름으로 저장
      let fileObject = new File([p_xml], filename+".xml");  // 파일 객체 생성 (data,name+확장자)
      saveAs(fileObject);                                   // 로컬 저장
    }

    //===================================
    // 블록 불러오기 
    //===================================   
    function loadBlock() {
      let reader = new FileReader();  // FileReader객체 생성
      let files = document.getElementById("file").files; // 로컬에 있는 파일의 id값 얻기
      let file = files[0];
      let fileName = "";  
      if (file) {
        reader.onload = function (e) {          // 파일읽기 성공한 경우
          var xml = reader.result;              // 읽어들인 파일 내용
          var dom = Blockly.Xml.textToDom(xml); // text를 돔 형태로 변환
          Blockly.Xml.appendDomToWorkspace(dom, demoWorkspace); //  돔을 디코딩 후 워크스페이스에 블록을 만들어 냄.
          fileName = file.name;
          
          // 워크스페이스에 있는 블록을 코드로 변환해 코드미러에 setValue해주는 부분
          try {
            var pyCode = Blockly.Python.workspaceToCode(demoWorkspace);
            pyEditor.setValue(pyCode);
          } catch (e) {
            console.log('python 코드가 매핑되어 있지 않습니다. Error : ' + e);
          }
          try {
            var jsCode = Blockly.JavaScript.workspaceToCode(demoWorkspace);
            jsEditor.getValue() = jsCode;
          } catch (e) {
            console.log('java script 코드가 매핑되어 있지 않습니다. Error : ' + e);
          }
        };
        reader.readAsText(file);
      }
    }

    // ==================================
    // 코드 갱신하기 
    //===================================  
    function codeUpdate(event) {
      async function coderun() {
        try {
          var pyCode = Blockly.Python.workspaceToCode(demoWorkspace); // 워크스페이스를 코드로 변환 후 값 저장
          pyEditor.setValue(pyCode); // 그 값을 파이썬코드미러에 값 저장
        } catch (e) {
          console.log('python 코드가 매핑되어 있지 않습니다. Error : ' + e);
        }
      }
      // coderun이 끝나고나서 작동됨.
      coderun().then(() => {
        try {
          var jsCode = Blockly.JavaScript.workspaceToCode(demoWorkspace); // 워크스페이스를 js코드로 변환 후 값 저장
          jsEditor.setValue(jsCode); // 그 값을 js코드미러에 값 저장
        } catch (e) {
          console.log('java script 코드가 매핑되어 있지 않습니다. Error : ' + e);
        }
      });
    }

    //==================================
    // 결과 지우기 2020.10.04 남지원 수정 
    //===================================  
    function clear_result() {
      //원본 document.getElementById("exeArea").value = "";
      $("#exeArea").empty();
    }

    // ==================================
    // 코드 파일로 저장하기
    //===================================  
    function file_save() {   
      var code_python = Blockly.Python.workspaceToCode(demoWorkspace); // 워크스페이스를 파이썬 코드로 변환
      var code = pyEditor.getValue();
      var blobObject = new Blob([code]);  // 코드를 블롭 객체로 만듬 => 블롭은 이미지, 사운드, 비디오와 같은 멀티미디어 데이터를 다룰 때 사용
      // 이름을 받아서 saveAs
      let filename = prompt("다른이름으로 저장."); 
      saveAs(blobObject, filename+".py"); 
    }

    // ==================================
    // 블록을 선택했을 때 
    //=================================== 
    function whenSelected(event) {
      if (event.type == Blockly.Events.CREATE) {
        var block = demoWorkspace.getBlockById(event.blockId); 
        console.log('블록이 선택됨');
      }

      // 블록을 눌렀을 때 클릭 이벤트로 각종 메소드 작동
      if (event.type == Blockly.Events.UI && event.element === "click") {
        var block = demoWorkspace.getBlockById(event.blockId);
        // 판다스에서 쓰이는 csv불러와서 데이터 프레임 만들어주는거
        if ('csv2' == block.type) {
          openTextFile(event.blockId);
        }

        // 기태 수정(로컬 파일 열기) 21.01.01 ==============================================
        //판다스의 파일열기
        if ('fileopen' == block.type) {
          console.log("파일 열기");
          localFileOpen(event.blockId);         
        }
        //사이파이의 미디어불러오기
        if ('fileopen2' == block.type) {
          console.log("미디어 파일 열기");
          localFileOpen2(event.blockId);         
        }
        // 기태 수정(로컬 파일 열기) 지금은 사용되지 않음 ========================================================
        if ('data_csv_read' == block.type) {
          Show_csv();
        }
        // 다운로드 블록 창 열기
        if ('os_data_download'  == block.type) {
          fileDownload();
        }
      }
    }
    demoWorkspace.addChangeListener(codeUpdate);  // 코드 갱신하기 메소드
    demoWorkspace.addChangeListener(whenSelected);// 선택 되었을 때 메소드
  </script>
  <script>
  //==================================
  // 블록을 실행했을 때 
  //==================================
    //새로운 실행방법
    function runButton() {
      //Blockly.Python.addReservedWords('code'); // 이 언어의 예약어 목록에 하나 이상의 단어를 추가한다.
      //var code1 = pyEditor.getValue();
      //var tmp = code1.indexOf(' = ')
      //var res = code1.charAt(tmp - 1)
      //pyodide.runPython(`
      //              del(${res})
      //              `);

      // 그래프 위쪽 삭제
      $("#graph1").remove();
      $("#csv_show").before("<div id='graph1' style=\"height:500px; width:900;\"><img id='pyplotfigure' /></div>");
      // 그래프 위쪽 삭제

      // 그래프같은 이미지들을 싹다 잡아옴 plt.show()하면 바로 되는이유
      globalThis.iodide = {
        output: {
          element: (tagName) => {
            let outputPane = document.createElement(tagName);
            document.querySelector("#graph1").appendChild(outputPane);
            console.log(outputPane)
            return outputPane;
          }
        }
      };

      Blockly.Python.addReservedWords('code');      // 왜 필요할까?
      var code = pyEditor.getValue();               // py 코드미러의 값을 code로 저장
      Blockly.JavaScript.addReservedWords('code2'); // 왜 필요할까?
      var code2 = jsEditor.getValue();              // js 코드미러의 값을 code2로 저장
      
      // 이 부분이 코드 싹다 잡아와서 출력
      // 실행했을때 그래프를 지우고 하기 위해
      // plt.cla - 클리어
      // plt.clf - figure클리어
      languagePluginLoader.then(() => {
        pyodide.runPython(`
                    import sys
                    import io
                    import matplotlib.pyplot as plt
                    plt.cla()
                    plt.clf()
                    sys.stdout = io.StringIO()
                    
                    `); 
      });
      // var code = document.getElementById("pyCodeEditor");
      // 순차적 실행을 위해 놓은 코드 async, .then()
      async function runcode() {
        console.log(code); // 파이썬코드찍는부분
        console.log("-----");
        console.log(code2); // 자바스크립트코드 찍는부분
        var exe = document.getElementById('exeArea'); // 콘솔 창 ID가져옴
        languagePluginLoader.then(() => {
          try {
            exe.innerHTML = pyodide.runPython(code);
            let stdout = pyodide.runPython("sys.stdout.getvalue()"); // 결과값을 싹 받아줌
            exe.innerHTML = stdout;
          } catch (e) {
            exe.innerHTML = e;
          }
        });
      }
      
      // runcode끝내고 또 돌림, 테이블 형식 블록을위해 이걸 넣어줌
      runcode().then(() => {
        if(eval(code2)==undefined){
          document.getElementById('exeArea').innerHTML+='\n';
        } else{
          console.log("error : javascript code error");
        }
      });
    }
    // 기존 실행 버튼
    // function runButton() {
    //   Blockly.Python.addReservedWords('code');
    //   var code = pyEditor.getValue();

    //   Blockly.JavaScript.addReservedWords('code2');
    //   var code2 = jsEditor.getValue();

    //   async function runcode() {
    //     languagePluginLoader.then(() => {
    //       try { pyodide.runPython(code); }
    //       catch (e) { document.getElementById('exeArea').innerHTML = e; }
    //     });
    // 명성이형 그래프 추가(일단 주석처리)
    // languagePluginLoader.then(await function () {
    //   if (DL_Gra == "chcked") { document.getElementById("pyplotfigure").src = pyodide.globals.img_str;}
    // });
    // DL_Gra = 0;
    //   };
    //   runcode().then(() => {
    //     document.getElementById('exeArea').innerHTML = eval(code2);
    //   });
    // };
      
    //======================
    // .csv를 테이블로 만들기 
    //======================
    function openTextFile(blockId) {
      var input = document.createElement("input");
      input.type = "file";
      input.accept = ".csv"; // 확장자가 xxx, yyy 일때, ".xxx, .yyy"
      input.onchange = function (e) {
        $("#tblshow").empty();
        $("#tblhead").empty();
        ///////////////////////////////////////////
        var fileArray = new Array(); // csv to json?
        if (e.target.files != undefined) {
          var reader = new FileReader();
          reader.onload = function (e) {
            var csvval = e.target.result.split("\n"); // 개행으로 나누고
            var csvvalue = csvval[0].split(",");      // ,로 나누고 
            var inputrad = "";
            // csv view! header 1
            for (var i = 0; i < csvvalue.length; i++) {
              var header = csvvalue[i];
              addOptions(header);
            }
            csvval[0] = csvval[0].replace('\r', ''); // 커서가 맨 앞에 있으면 없애고
            // row
            var cnt = (csvval.length < 2000) ? csvval.length : 2000; // 갯수를 2000개까지
            for (var i = 1; i < cnt - 1; i++) {
              csvval[i] = csvval[i].replace('\r', '');
              var cols = csvval[i].split(',');
              var fileObject = new Object();
              for (var j = 0; j < cols.length; j++) {
                var value = cols[j];
                var name = csvval[0].split(',')[j] // hedaer name
                fileObject[name] = value; // value
                // table body add
              }
              fileArray.push(fileObject);
            }
            create_table($("#csv_show")[0], JSON.stringify(fileArray));
            // // 파일 set
            var block = demoWorkspace.getBlockById(blockId);
            var bId = Blockly.mainWorkspace.getBlockById(blockId)
            block.setFieldValue(JSON.stringify(fileArray), 'csv_url'); // csv_url -> field_input ID
          };
          reader.readAsText(e.target.files.item(0), /* optional */ "euc-kr");
        }
      };
      input.click();
    }

    // **************************************
    // ********   테이블 그리기      *********
    // ************************************** 
    function draw_table(Get_CSV_DATA, Get_CSV_Header) {

      var NPTD_Data = Array.from(Array(Get_CSV_DATA[0].length), () => new Array(Get_CSV_DATA.length));

      for (var i = 0; i < Get_CSV_DATA.length; i++) {
        for (var j = 0; j < Get_CSV_DATA[0].length; j++) {
          NPTD_Data[j][i] = Get_CSV_DATA[i][j];
          // console.log(NPTD_Data[j][0]);
        }
      }

    var NPTD_Data_Header = Array.from(Array(NPTD_Data.length), () => new Array(NPTD_Data[0].length));

  //--------------------------------- data 속성 ---------------------------// 
  var data = [{
    type: 'table',

    //--------------헤더 설정 ---------------// 
    header: {
      values: Get_CSV_Header,
      line: {
        width: 1,
        color: 'black'
      },
      fill: {
        color: "grey"
      },
      font: {
        family: "Arial",
        size: 12,
        color: "white"
      }
    },
    //--------------셀 설정 ---------------//
    cells: {
      values: NPTD_Data,
      align: "center",
      line: {
        color: "black",
        width: 1
      },
      font: {
        family: "Arial",
        size: 11,
        color: ["black"]
      }
    }
  }]
  var title = "테이블 확인 하기 "
  var graph = "graph1"
  var layout = {title: title}
  //--------------------------------- data 속성 ---------------------------//
  Plotly.newPlot(graph, data, layout);
}
    // 안쓰는 부분인거같음 
    //
    // function processFile(file) {
    //   var reader = new FileReader();
    //   reader.onload = function () {
    //   var fileResult = reader.result;
    //   var val = sessionStorage.setItem('file', fileResult);
    //   };
    //   reader.readAsText(file, /* optional */ "cp949");
    // }

    /* 그래프 */
    // const metrics = ['loss', 'val_loss', 'acc', 'val_acc']
    // const container = {
    //   name: 'Model Training',
    //   styles: {
    //     height: '1000px'
    //   }
    // };

    // 스크래핑에서 쓰는거같은데 안쓰는거같음
    // async function saveModel(model) {
    //   model.save('localstorage://my-model');
    //   alert('완료되었습니다.');
    // }

    // canvas 활성화 & 비활성화
    /*function canvas_power() {
      var canvasState = $("#canvas")[0];
      var btnSave = $("#btn_save")[0];
      if (canvasState.style.display == "" || canvasState.style.display == "none") {
        canvasState.style.display = "block";
        $("#btn_save")[0].style.visibility = "visible";
        $("#btn_canvas").val("그림판 비활성화");
      } else {
        canvasState.style.display = "none";
        $("#btn_save")[0].style.visibility = "hidden";
        $("#btn_canvas").val("그림판 활성화");
      }
    }
    */

    // canvas 저장하기
    // const alphaPixel = []

    // function canvas_save() {
    //   var download = $("#download")[0];
    //   var canvas = $("#canvas")[0];
    //   var c = document.getElementById("canvas");
    //   var ctx = c.getContext("2d");
    //   console.log(ctx);
    //   var pixel = ctx.getImageData(0, 0, 28, 28).data;
    //   for (i = 3, idx = 0; i < pixel.length; i += 4) {
    //     alphaPixel[idx] = pixel[i];
    //     idx++;
    //   }
    //   console.log(alphaPixel);
    // }

    // 화면에 찍기 프린트
    function printc(x) {
      var savetext = $('#exeArea').val();
      $('#exeArea').val(savetext + x + '\n');
    }

    // **************************************
    // ********   CSV파일열기 - 지금은 사용되지 않음     **********//
    // **************************************//   
    async function Show_csv(test) {
      var Show_CSV_Data_S = await Data_process();

      console.log("Show_csv : Load_csv\n", Show_CSV_Data_S);

      var rows = Show_CSV_Data_S.split(/\r\n|\n/);
      var cols = Show_CSV_Data_S.split(/\r\n|\n/)[0].split(/,/);

      var Get_CSV_DATA = Array.from(Array(cols.length), () => new Array((rows.length) - 1));
      for (var i = 0; i < (rows.length) - 1; i++) {
        for (var j = 0; j < cols.length; j++) {
          test = rows[i].split(/,/)[j];
          Get_CSV_DATA[j][i] = test;
        }
      }
      var rows_leng = rows.length;
      var cols_leng = cols.length;

      draw_table(Get_CSV_DATA, rows_leng, cols);

      return test;
    }

    

    // **************************************
    // ********   파일 열기 -- 지금은 사용되지않음     **********//
    // **************************************//
    function Data_process() {

      return new Promise(function (resolve, rejcet) {

        var Show_CSV_Data = document.createElement("input");
        Show_CSV_Data.setAttribute("id", "Data_S_read_CSV");
        Show_CSV_Data.type = "file";
        Show_CSV_Data.accept = ".csv"; //loadFile    
        Show_CSV_Data.onchange = function (event) {

          if (event.target.files != undefined) {
            var file_result = event.target.files;
            // console.log("fitle_result",file_result); 
            testing_1 = event.target.files[0].name;

            var reader = new FileReader();
            reader.onload = function (e) { //들어오기전에 먼저 실행됨  
              var fileResult = e.target.result;

              resolve(fileResult);
            };
          }
          reader.readAsText(event.target.files[0], /* optional */ "euc-kr");
          // testing_1 = document.getElementById('Data_S_read_CSV').value;
        }

        Show_CSV_Data.click();

      });
    }


    // **************************************
    // ********  데이터셋_불러오기 - 지금은 사용되지 않음     **********//
    // **************************************//  
    function exportToCsv(filename, rows) {

      console.log("fileName_check", fileName);
      console.log("rows_check", rows);

      var processRow = function (row) {
        var finalVal = '';
        for (var j = 0; j < row.length; j++) {
          var innerValue = row[j] === null ? '' : row[j].toString();
          if (row[j] instanceof Date) {
            innerValue = row[j].toLocaleString();
          };
          var result = innerValue.replace(/"/g, '""');
          if (result.search(/("|,|\n)/g) >= 0)
            result = '"' + result + '"';
          if (j > 0)
            finalVal += ',';
          finalVal += result;
        }
        return finalVal + '\n';
      };

      var csvFile = '';
      for (var i = 0; i < rows.length; i++) {
        csvFile += processRow(rows[i]);
      }

      var blob = new Blob(["\ufeff" + csvFile], {
        type: 'text/csv;charset=utf-8;'
      }); //utf-8  (["\ufeff"+data+], {type: 'text/csv;charset=utf-8;'}); // 기존 ([csvFile], { type: 'text/csv;charset=ANSI;' });
      if (navigator.msSaveBlob) { // IE 10+  
        navigator.msSaveBlob(blob, filename);
      } else {
        var link = document.createElement("a");
        if (link.download !== undefined) { // feature detection
          // Browsers that support HTML5 download attribute
          var url = URL.createObjectURL(blob);
          link.setAttribute("href", url);
          link.setAttribute("download", filename);
          link.style.visibility = 'hidden';
          document.body.appendChild(link);
          link.click();
          document.body.removeChild(link);
        }
      }
    }

    function Check_matplotlib_user_input(a, b) {
      if (a == 1 && b == 1) {
        DL_Gra = "graph_both_1";
      } else if (a == 1 || b == 1) {
        DL_Gra = "graph_or_1";
      } else {
        DL_Gra = 0;
      }
    }
  </script>

  <!-- <script src="/js/utils/canvas.js"></script> 그림판 -->

  <!-- 2020-12-05 양승국 언어변경 -->
  <script>
    $("#language").change(function () {
      var selectName = $(this).find(":selected").val();

      if (selectName == "kor") {
        $("#lan").remove();
        var script = document.createElement('script');
        script.id = 'lan';
        script.src = '/js/blockly/msg/js/ko.js'; // script url.
        document.body.appendChild(script);
      }
      else if (selectName == "eng") {
        $("#lan").remove();
        var script = document.createElement('script');
        script.id = 'lan';
        script.src = '/js/blockly/msg/js/en.js'; // script url.
        document.body.appendChild(script);
      }  
    });
    
  </script>
  <!-- 데이터 입력 bug fix -->
  <script>
    // function input_fixed(text) {
    //     return prompt(text);
    // };
    
    // languagePluginLoader.then(() => {
    //   pyodide.runPythonAsync(`
    //     from js import input_fixed
    //     input = input_fixed
    //     __builtins__.input = input_fixed
    //     `);
    // });
  </script>

    <!-- 기태 처리 (파일) 20.12.29------------------------------------------------------------------------->
    <!-- 외부 파일 입력 제거 -->
    <!-- <input type="file" id="file_input" name="file-input"
    accept=".jpg, .png, .txt, .csv"
    onchange="loadFile(this);"
    /> -->


    <!-- 로컬 파일 오픈하기 -->
    <script>
    var datas="";           // 데이터 변수 초기화
    let fss;                // FS가 BrowserFS와 겹치기 때문에 재 생성
    let fileName2="temp";   // 파일 명   
    var rows = "";          // ?
    
    //== 기태 수정 (로컬 파일 열기 ) 21.01.01 =============================================
    // 텍스트 파일 처리하기 
    function localFileOpen(blockId) {
      console.log("local Text FileOpen");
      var input = document.createElement("input"); // input 태그를 하나 만든다.
      // 태그 속성 정의
      input.type = "file";
      input.accept = ".txt, .csv"; // 확장자가 xxx, yyy 일때, ".xxx, .yyy"
      input.onchange = function (e) { // input의 값이 변하면 => 파일을 불러오면
        if (e.target.files != undefined) { // 이중부정을 굳이?
          console.log("txt or csv 파일 불러옴")
          var reader = new FileReader(); // 파일리더 객체 생성
        
          // reader가 준비되면 
          reader.onload = function (e) { 
            datas = e.target.result;      // 다읽어온 파일의 값을 datas에 저장      
            console.log("datas", datas);  // datas 출력 => txt나 csv를 출력한번 해본다.
            fss.writeFileSync(fileName2, datas); // FS에 파일명으로 datas를 저장
            var block = demoWorkspace.getBlockById(blockId); // 블럭안의 input에 파일 경로를 적기위해 블럭 찾음
            var bId = Blockly.mainWorkspace.getBlockById(blockId) // ???
            block.setFieldValue(JSON.stringify("data/" + fileName2), 'file_path'); // 블럭안에 input에 파일경로를 적어줌
          };

          fileName2 =  e.target.files[0].name;  // 파일명 받아옴
          console.log(fileName2);               // 파일명 출력해봄
          reader.readAsText(e.target.files[0]); // 리더객체가 텍스트를 읽음        
        }
      };
      input.click(); // 블럭이 클릭되면 실행
    }

    // 미디어 파일 처리하기 
    function localFileOpen2(blockId) {
      console.log("local Image FileOpen");
      var input = document.createElement("input");
      input.type = "file";
      input.accept = ".jpg, .png, .bmp, .wav"; // 확장자가 xxx, yyy 일때, ".xxx, .yyy"
      input.onchange = function (e) {
      
      fileName2 =  e.target.files[0].name;
      console.log(fileName2);

      // 파일명, 확장자 분리작업
      var _fileLen = fileName2.length;                                      // 파일명의 길이
      var _lastDot = fileName2.lastIndexOf('.');                            // 파일명에서 가장 마지막에 나오는 .확인 => 확장자 체크
      var _fileExt = fileName2.substring(_lastDot, _fileLen).toLowerCase(); // 확장자를 소문자로 변경해 저장

      // 확장자가 wav일때 
      if(_fileExt == ".wav"){
        if (e.target.files != undefined) {
          console.log("웨이브 파일")
          var reader = new FileReader();
        
          reader.onload = function (e) {
            datas = e.target.result;          
            console.log("datas", datas);    
            // wav 파일 처리하기 
            fss.writeFileSync(fileName2, Buffer(new Uint8Array(datas))); // 버퍼 배열로 파일 저장
            var block = demoWorkspace.getBlockById(blockId);
            var bId = Blockly.mainWorkspace.getBlockById(blockId)
            block.setFieldValue(JSON.stringify("data/" + fileName2), 'file_path');
          };
          fileName2 =  e.target.files[0].name;
          console.log(fileName2);
          reader.readAsArrayBuffer(e.target.files[0]);  // 웨이브 파일은 버퍼로 읽어온다    
        }
      } else { // 확장자가 wav가아니면 이미지라고 판단
        if (e.target.files != undefined) {
          console.log("이미지 파일")
          var reader = new FileReader();
          
          // reader가 이미지를 다 읽었을때 실행
          reader.onload = function (e) {
            datas = e.target.result;  // 이미지 값을 datas에 저장
            console.log("datas", datas);    
            var data = datas.replace(/^data:image\/\w+;base64,/, ""); // 이 부분을 삭제함
            var buf = Buffer.from(data, 'base64');  // base64 버퍼로 저장
            fss.writeFileSync(fileName2, buf); 
            var block = demoWorkspace.getBlockById(blockId);
            var bId = Blockly.mainWorkspace.getBlockById(blockId)
            block.setFieldValue(JSON.stringify("data/" + fileName2), 'file_path');
          };
          reader.readAsDataURL(e.target.files[0]);  // reader가 이미지를 읽음   
        }
      }
    };
    input.click(); // input을 클릭했을 때. 
    }

    //== 기태 수정 (로컬 파일 열기 ) ===================================================
    // function loadFile(sender) {
    //   var reader = new FileReader();
      
    //   reader.onload = function (sender) {      // reader가 준비되면 sender
    //     datas = sender.target.result;          
    //     console.log("datas", datas);
    //     fss.writeFileSync(fileName2, datas);
    //   };

    //   fileName2 =  sender.files[0].name;
    //   reader.readAsText(sender.files[0]);        
    // }

    //=====기태 처리 (파일) 21.01.06  : 파일 로딩에 대해 인터벌 적용 ================================
    setTimeout(function() {
      BrowserFS.install(window);
      BrowserFS.configure({
            fs: "LocalStorage"
        }, function(e) {
            fss = require('fs'); // [Node.JS] fs의 기능을 fss로 이동 => 브라우저 fs와 겹침방지
            var fs = BrowserFS.BFSRequire('fs'); // [BrowserFS] 사용하려면 기본적으로 필요한 건가봄?
            fss.writeFileSync(fileName2, ""); // temp라는 이름의 빈 파일 생성
            
            // [Pyodide] languagePluginLoader : pyodide초기화? 시작할때 무조건 필요 
            languagePluginLoader.then(async ()=>{       
              // pyodide모듈 로드     
              //pyodide.loadPackage(['numpy', 'pandas', 'matplotlib', 'scipy', 'sympy', 'beautifulsoup4']).then(() => {
              //  console.log("모듈 로드 완료.");
              //})
              
              let FS = pyodide._module.FS; // 모듈의 파일시스템
              let PATH = pyodide._module.PATH; // 모듈의 경로
              console.log(FS.mount);
              console.log(PATH);

              // Create an Emscripten interface for the BrowserFS
              var BFS = new BrowserFS.EmscriptenFS(FS, PATH);
              // Create mount point in Emscripten FS
              FS.createFolder(FS.root, 'data', true, true);
              // Mount BrowserFS into Emscripten FS
              FS.mount(BFS, {root: '/'}, '/data');

              // 이부분은 내부 콘솔(f12 X)에 찍어주기 위해?? 필요한 부분?? 왜 쓰는지 모르겠음
              pythonCode = `              
                import sys
                from io import StringIO
                sys.stdout = StringIO()      
              `
              // 비동기 부분 다 끝나고 이거 되는거같음
              languagePluginLoader.then(() => {
                return pyodide.loadPackage(['micropip'])
              }).then(() => {
                pyodide.runPython(pythonCode);
              })          
            });
        });
    }, 1000);  // js 파일 다운로드를 위해 인터벌 설정 
    </script>   
    <script>
      // 파일 다운로드 
      function fileDownload(){
        var minetype;     // 데이터 타입 
        var blob;         // 블롭 변수
        var base64Image;  // base64이미지

        var _filename = prompt("저장할 파일명을 입력해주세요(ex> hello.txt)");    // 파일명+확장자 입력
        if(_filename != null){
          var _fileLen = _filename.length;                                      // 파일명의 길이
          var _lastDot = _filename.lastIndexOf('.');                            // 파일명에서 마지막에 나오는 '.'찾기 -> 확장자를 찾을수있음
          var _fileExt = _filename.substring(_lastDot, _fileLen).toLowerCase(); // 분리된 파일 확장자
        }

        // readFile - 인코딩 없이 minetype으로 구분해서 처리하면 됨.
        fss.readFile(_filename, function(err, data) {
          console.log(data); // data정보 확인
          // 에러가 났을 때
          if(err){
            alert("해당 파일이 존재하지 않습니다.");
            return;
          }

          // 확장자 비교 후 작동.
          if(_fileExt == '.txt'){
            minetype = "text/plain;charset=utf-8";            
          } else if(_fileExt == '.csv'){
            minetype = "text/csv;charset=utf-8";
          } else if(_fileExt == '.bmp'){            
            minetype : 'image/bmp';            
          } else if(_fileExt == '.jpg'){  
            minetype = 'image/jpeg';             
          } else if(_fileExt == '.wav'){            
            minetype : 'audio/wav';           
          }
          
          // 블롭 생성
          blob = new Blob([data], { type: minetype });
          console.log(blob);
          // 블롭 저장.
          saveAs(blob, _filename);
          
        });
      }
    </script> 
    <!-- 기태 처리 (파일) 끝 20.12.29 ------------------------------------------------------------------------->
    <!-- 기태 휴지통 처리 21.01.16----------------------------------------------------------------------------->
    <!-- <script>
      function trashcanClean(){        
        Blockly.mainWorkspace.trashcan.emptyContents();
      }
    </script> -->
    <!-- 기태 휴지통 처리 끝 21.01.16----------------------------------------------------------------------------->
    
    <script>
      function _requestsURL(){
        alert('_requestsURL');
        $.ajax({
          url: "/test2",
          method: "GET", // HTTP 요청 메소드(GET, POST 등) 
          dataType: "json", // 서버에서 보내줄 데이터의 타입
          success: function(data){   
            alert(data.data);
          }
        });
      }
    </script>
</body> 

<style>
  #loading_image1 {
    position: relative;
    padding-top: 1.5vh;
    padding-left: 3vh;
    padding-right: 2vh;
    height: 30px;
  }

  #loading_image2 {
    position: relative;
    padding-top: 4vh;
    padding-left: 3vh;
    padding-right: 2vh;
    height: 30px;
  }
</style>

<!--camera
<script src="/js/blockly/cam.js"></script>
<script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
-->
</html>